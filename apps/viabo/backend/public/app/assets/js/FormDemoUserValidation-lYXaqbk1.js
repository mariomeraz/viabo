import{r as R,i as e,S as s,T as o,B as l,y as A,l as E,aC as I,K as V}from"./vendor-5lkxkETF.js";import{o as k}from"./mui-one-time-password-input.es-DECpCfUz.js";import{u as B}from"./useSendValidationCode-CUm7PjRd.js";import{u as D}from"./useValidateCode-BtcjmgpO.js";import{aa as L,a as m}from"./index-DkbAsBWZ.js";import{m as T}from"./matchTypes-mENztEWg.js";import{u as n,C as x}from"./RegisterCards-C5_I1Y1r.js";import"./iconBase-jHcAKz16.js";function U(){const t=n(r=>r.setStepAssignRegister),a=n(r=>r.user),i=n(r=>r.token),[h,d]=R.useState(""),{mutate:p,isLoading:u}=B(),{mutate:g,isLoading:C,isError:c,reset:j}=D(),v=r=>{d(r),j()},S=(r,b)=>T(r),f=r=>{m.defaults.headers.common.Authorization=`Bearer ${i}`,g({verificationCode:r,token:i},{onSuccess:()=>{t(x.CARD_REGISTER)},onError:()=>{d("")}})},y=()=>{m.defaults.headers.common.Authorization=`Bearer ${i}`,p()};return e.jsxs(s,{children:[e.jsx(L,{}),e.jsx(o,{variant:"h4",color:"textPrimary",align:"center",children:"Estamos a un paso de validar tu identidad"}),e.jsxs(o,{paragraph:!0,sx:{mb:4},align:"center",variant:"body2",color:"text.secondary",whiteSpace:"pre-line",children:["Revisa tu correo electrónico ",(a==null?void 0:a.email)||"-"," e ingresa el código de verificación."]}),e.jsx(k,{length:6,value:h,onComplete:f,onChange:v,validateChar:S,sx:{gap:{xs:1.5,sm:2,md:3}},TextFieldsProps:{placeholder:"-",error:c,disabled:C}}),!!c&&e.jsx(l,{mt:1,children:e.jsx(o,{variant:"caption",color:"error",children:"Código incorrecto"})}),e.jsx(l,{children:e.jsx(A,{sx:{my:4},children:e.jsx(s,{direction:"row",spacing:1,justifyContent:"center",children:u?e.jsx(E,{wid:!0,sx:{mx:3}}):e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"body2",children:"¿No tengo un código?"}),e.jsx(I,{underline:"hover",sx:{cursor:"pointer"},onClick:y,children:e.jsx(o,{variant:"body2",color:"primary",children:"Reenviar código"})})]})})})}),e.jsx(s,{px:5,children:e.jsx(V,{size:"large",variant:"outlined",color:"inherit",onClick:()=>{t(x.CARD_VALIDATION)},children:"Cancelar"})})]})}export{U as default};
//# sourceMappingURL=FormDemoUserValidation-lYXaqbk1.js.map

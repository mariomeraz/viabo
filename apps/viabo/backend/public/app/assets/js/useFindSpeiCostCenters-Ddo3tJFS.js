import{r as p,e as d,U as n}from"./vendor-5lkxkETF.js";import{a as e,g as S,b as m}from"./index-DkbAsBWZ.js";import{c as t}from"./matchTypes-mENztEWg.js";const E=i=>{const r=i==null?void 0:i.map(a=>({id:a==null?void 0:a.id,name:a==null?void 0:a.name}));return t(r,"id","name")},f={COST_CENTERS_LIST:"spei-cost-centers-list",USERS_ADMIN_COST_CENTER_LIST:"spei-admin-cost-center-users-list"},y={ADMIN_USERS:"users",NEW_ADMIN_USER:"new-user"},T=i=>{const r=(i==null?void 0:i.map(a=>{var s;return{id:a==null?void 0:a.id,folio:a==null?void 0:a.folio,name:a==null?void 0:a.name,status:(a==null?void 0:a.active)==="1",companies:a==null?void 0:a.companyTotal,create:{user:a==null?void 0:a.createdByUser,date:a==null?void 0:a.createDate},adminUsers:((s=a==null?void 0:a.users)==null?void 0:s.map(o=>o==null?void 0:o.id))||[]}}))||[];return t(r,"id","name")},_=async()=>{const{data:i}=await e.get("/api/backoffice/cost-centers");return T(i)},N=async i=>{const{data:r}=await e.post("/api/backoffice/cost-center/new",i);return r},g=async()=>{const{data:i}=await e.get("/api/security/users/administrators-of-cost-centers");return E(i)},A=async i=>(await e.put("/api/backoffice/cost-center/update",i),i),I=(i={})=>{const[r,a]=p.useState(null),s=d({queryKey:[f.COST_CENTERS_LIST],queryFn:_,refetchOnWindowFocus:!1,retry:!1,staleTime:3e5,...i});return p.useEffect(()=>{if(s!=null&&s.isError){const o=S(s.error,"No se puede obtener la lista de centros de costos. Intente nuevamente o reporte a sistemas");a(o),n.error(o,{type:m(s.error)})}},[s.isError,s.error]),{...s,error:r||null}};export{y as M,f as S,A as a,g,N as n,I as u};
//# sourceMappingURL=useFindSpeiCostCenters-Ddo3tJFS.js.map

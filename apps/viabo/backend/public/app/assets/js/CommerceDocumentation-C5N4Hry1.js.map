{"version":3,"file":"CommerceDocumentation-C5N4Hry1.js","sources":["../../../../../frontend/src/app/business/commerce/adapters/commerceUploadDocumentsAdapter.js","../../../../../frontend/src/app/business/commerce/services/documentationList.js","../../../../../frontend/src/app/business/commerce/hooks/useUploadDocuments.js","../../../../../frontend/src/app/business/commerce/hooks/useDeleteDocuments.js","../../../../../frontend/src/app/business/commerce/components/process/documentation/DocumentDropZone.jsx","../../../../../frontend/src/app/business/commerce/components/process/documentation/CommerceDocumentation.jsx"],"sourcesContent":["export const CommerceUploadDocumentsAdapter = (documents, commerceId, fiscalPersonType) => {\r\n  let documentsAdapted = documents\r\n  if (fiscalPersonType === '2') {\r\n    documentsAdapted = {\r\n      ...documents,\r\n      ACTA_CONSTITUTIVA: null,\r\n      DOCUMENTO_PODER: null,\r\n      CEDULA_FISCAL_EMPRESA: null\r\n    }\r\n  }\r\n  const formUpload = new FormData()\r\n  const formUploadToDelete = new FormData()\r\n  for (const [key, value] of Object.entries(documentsAdapted)) {\r\n    if (value !== null) {\r\n      formUpload.append(key, value)\r\n    } else {\r\n      const contenido = ''\r\n      const archivo = new File([contenido], `${key}.txt`, {\r\n        type: 'text/plain'\r\n      })\r\n      formUploadToDelete.append(key, archivo)\r\n    }\r\n  }\r\n  formUpload.append('commerceId', commerceId)\r\n  formUploadToDelete.append('commerceId', commerceId)\r\n  return { uploadDocumentsForm: formUpload, deleteDocumentsForm: formUploadToDelete }\r\n}\r\n","const documentTypes = {\r\n  ACTA_CONSTITUTIVA: 'Acta Constitutiva',\r\n  DOCUMENTO_PODER: 'Documento Poder',\r\n  IDENTIFICACION: 'Identificación',\r\n  CEDULA_FISCAL_EMPRESA: 'Cédula Fiscal de la Empresa',\r\n  CEDULA_FISCAL_APODERADO: 'Cédula Fiscal del Apoderado',\r\n  COMPROBANTE_DOMICILIO: 'Comprobante de Domicilio'\r\n}\r\n\r\nconst documentList = {\r\n  ACTA_CONSTITUTIVA: {\r\n    accept: {\r\n      'image/*': ['.jpeg', '.png'],\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    maxFiles: 1,\r\n    expiration: null,\r\n    moralPerson: true\r\n  },\r\n  DOCUMENTO_PODER: {\r\n    accept: {\r\n      'image/*': ['.jpeg', '.png'],\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    maxFiles: 1,\r\n    expiration: null,\r\n    moralPerson: true\r\n  },\r\n  IDENTIFICACION: {\r\n    accept: {\r\n      'image/*': ['.jpeg', '.png'],\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    maxFiles: 1,\r\n    expiration: null,\r\n    moralPerson: 'all'\r\n  },\r\n  CEDULA_FISCAL_EMPRESA: {\r\n    accept: {\r\n      'image/*': ['.jpeg', '.png'],\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    maxFiles: 1,\r\n    expiration: 'No Mayor a 2 meses',\r\n    moralPerson: true\r\n  },\r\n  CEDULA_FISCAL_APODERADO: {\r\n    accept: {\r\n      'image/*': ['.jpeg', '.png'],\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    maxFiles: 1,\r\n    expiration: 'No Mayor a 2 meses',\r\n    moralPerson: 'all'\r\n  },\r\n  COMPROBANTE_DOMICILIO: {\r\n    accept: {\r\n      'image/*': ['.jpeg', '.png'],\r\n      'application/pdf': ['.pdf']\r\n    },\r\n    maxFiles: 1,\r\n    expiration: 'No Mayor a 2 meses',\r\n    moralPerson: 'all'\r\n  }\r\n}\r\n\r\nexport { documentList, documentTypes }\r\n","import { useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport { COMMERCE_KEYS } from '@/app/business/commerce/adapters'\r\nimport { uploadDocuments } from '@/app/business/commerce/services'\r\nimport { getErrorAPI } from '@/shared/interceptors'\r\n\r\nexport const useUploadDocuments = (options = {}) => {\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const client = useQueryClient()\r\n  return useMutation({\r\n    mutationFn: uploadDocuments,\r\n    onSuccess: () => {\r\n      client.invalidateQueries([COMMERCE_KEYS.COMMERCE_PROCESS])\r\n      enqueueSnackbar('Se agregaron los documentos al proceso!', {\r\n        variant: 'success'\r\n      })\r\n    },\r\n    onError: error => {\r\n      const message = getErrorAPI(error, 'No se puede agregar los doumentos al proceso')\r\n      enqueueSnackbar(message, {\r\n        variant: error?.status === 500 ? 'error' : 'warning',\r\n        autoHideDuration: 5000\r\n      })\r\n    },\r\n    ...options\r\n  })\r\n}\r\n","import { useMutation, useQueryClient } from '@tanstack/react-query'\r\n\r\nimport { COMMERCE_KEYS } from '@/app/business/commerce/adapters'\r\nimport { deleteDocuments } from '@/app/business/commerce/services'\r\n\r\nexport const useDeleteDocuments = (options = {}) => {\r\n  const client = useQueryClient()\r\n  return useMutation({\r\n    mutationFn: deleteDocuments,\r\n    onSuccess: () => {\r\n      client.invalidateQueries([COMMERCE_KEYS.COMMERCE_PROCESS])\r\n    },\r\n    ...options\r\n  })\r\n}\r\n","import { UploadSingleFile } from '@/shared/components/upload'\r\n\r\nconst DocumentDropzone = ({ name, accept, setFieldValue, file }) => {\r\n  const handleDrop = acceptedFiles => {\r\n    const file = acceptedFiles[0]\r\n\r\n    if (file) {\r\n      setFieldValue(\r\n        name,\r\n        Object.assign(file, {\r\n          preview: URL.createObjectURL(file)\r\n        })\r\n      )\r\n    }\r\n  }\r\n\r\n  const handleRemove = () => {\r\n    setFieldValue(name, null)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <UploadSingleFile\r\n        file={file}\r\n        accept={accept}\r\n        onDrop={handleDrop}\r\n        onRemove={handleRemove}\r\n        maxSize={3145728}\r\n        height={40}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DocumentDropzone\r\n","import { useMemo } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { LoadingButton } from '@mui/lab'\r\nimport { Alert, Box, Card, Grid, Link, Stack, ToggleButton, ToggleButtonGroup, Typography } from '@mui/material'\r\nimport { useFormik } from 'formik'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport { CommerceUploadDocumentsAdapter } from '@/app/business/commerce/adapters'\r\nimport { CommerceUpdateAdapter } from '@/app/business/commerce/adapters/commerceUpdateAdapter'\r\nimport DocumentDropzone from '@/app/business/commerce/components/process/documentation/DocumentDropZone'\r\nimport { useDeleteDocuments, useUpdateCommerceProcess, useUploadDocuments } from '@/app/business/commerce/hooks'\r\nimport { documentList, documentTypes, PROCESS_LIST } from '@/app/business/commerce/services'\r\nimport { propTypesStore } from '@/app/business/commerce/store'\r\n\r\nCommerceDocumentation.propTypes = {\r\n  store: PropTypes.shape(propTypesStore)\r\n}\r\nexport default function CommerceDocumentation({ store }) {\r\n  const { resume, setActualProcess, setLastProcess } = store\r\n  const { files, fiscalTypePerson } = resume\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const { mutate: uploadDocuments, isLoading: uploadingDocuments } = useUploadDocuments()\r\n  const { mutate: deleteDocuments, isLoading: deletingDocuments } = useDeleteDocuments()\r\n  const { mutate: updateInfoCommerce, isLoading: isUpdatingCommerce } = useUpdateCommerceProcess()\r\n\r\n  const formik = useFormik({\r\n    initialValues: Object.keys(documentTypes).reduce(\r\n      (acc, type) => {\r\n        acc[type] = files?.find(file => file?.Name === type)?.storePath || null\r\n        return acc\r\n      },\r\n      { moralPerson: fiscalTypePerson === '' ? '1' : fiscalTypePerson }\r\n    ),\r\n    enableReinitialize: true,\r\n    onSubmit: values => {\r\n      const { moralPerson, ...documents } = values\r\n      const someFile = filterDocuments?.some(fieldName => values[fieldName] !== null)\r\n      if (someFile) {\r\n        const { deleteDocumentsForm, uploadDocumentsForm } = CommerceUploadDocumentsAdapter(\r\n          documents,\r\n          resume?.id,\r\n          moralPerson\r\n        )\r\n\r\n        uploadDocuments(uploadDocumentsForm, {\r\n          onSuccess: () => {\r\n            const allDocumentsFilled = filterDocuments?.every(fieldName => values[fieldName] !== null)\r\n            const resumeAdapter = CommerceUpdateAdapter(resume, allDocumentsFilled ? 4 : 3)\r\n            const dataAdapted = { ...resumeAdapter, fiscalPersonType: moralPerson }\r\n            updateInfoCommerce(dataAdapted, {\r\n              onSuccess: () => {\r\n                if (allDocumentsFilled) {\r\n                  setActualProcess(PROCESS_LIST.FINISHED_PROCESS)\r\n                  setLastProcess({ info: null, name: PROCESS_LIST.COMMERCE_DOCUMENTATION })\r\n                }\r\n              }\r\n            })\r\n          }\r\n        })\r\n        deleteDocuments(deleteDocumentsForm)\r\n      } else {\r\n        enqueueSnackbar('Se debe subir al menos un archivo!', {\r\n          variant: 'warning'\r\n        })\r\n      }\r\n\r\n      setSubmitting(false)\r\n    }\r\n  })\r\n\r\n  const { handleSubmit, values, setSubmitting, isSubmitting, setFieldValue } = formik\r\n\r\n  const filterDocuments = useMemo(\r\n    () =>\r\n      Object.keys(documentList).filter(document => {\r\n        if (values.moralPerson === '1') {\r\n          return document\r\n        }\r\n        return documentList[document].moralPerson === false || documentList[document].moralPerson === 'all'\r\n      }),\r\n    [values.moralPerson]\r\n  )\r\n\r\n  const loading = uploadingDocuments || isSubmitting || isUpdatingCommerce || deletingDocuments\r\n\r\n  return (\r\n    <>\r\n      <Stack direction=\"column\" width={1} spacing={1}>\r\n        <Typography variant=\"h4\" color=\"textPrimary\" align=\"center\">\r\n          Documentación del Comercio\r\n        </Typography>\r\n        <Typography paragraph align=\"center\" variant=\"body1\" color={'text.secondary'} whiteSpace=\"pre-line\">\r\n          Ingrese los documentos necesarios del comercio para continuar con el proceso\r\n        </Typography>\r\n      </Stack>\r\n      <Box width={1} py={4} component={'form'} onSubmit={handleSubmit}>\r\n        <Stack spacing={4} justifyContent={'center'} alignItems={'center'}>\r\n          <ToggleButtonGroup\r\n            color=\"primary\"\r\n            value={values?.moralPerson}\r\n            exclusive\r\n            onChange={(event, newValue) => {\r\n              setFieldValue('moralPerson', newValue)\r\n            }}\r\n            aria-label=\"Platform\"\r\n          >\r\n            <ToggleButton value={'1'}>Persona Moral</ToggleButton>\r\n            <ToggleButton value={'2'}>Persona Física</ToggleButton>\r\n          </ToggleButtonGroup>\r\n          <Grid container spacing={2}>\r\n            {filterDocuments?.map(name => (\r\n              <Grid item key={name} xs={12} md={6} lg={4} xl={4}>\r\n                <Card sx={{ p: 0, borderRadius: 1 }}>\r\n                  <Typography pt={2} variant=\"subtitle2\" color=\"textPrimary\" align=\"center\">\r\n                    {documentTypes[name]}\r\n                  </Typography>\r\n                  {values[name] && typeof values[name] === 'object' && (\r\n                    <Stack sx={{ textAlign: 'center', align: 'center' }}>\r\n                      <Typography variant=\"caption\" color=\"textPrimary\" align=\"center\">\r\n                        {values[name]?.path}\r\n                      </Typography>\r\n                    </Stack>\r\n                  )}\r\n\r\n                  {values[name] && !(typeof values[name] === 'object') && (\r\n                    <Stack sx={{ textAlign: 'center', align: 'center' }}>\r\n                      <Link href={values[name]} target=\"_blank\">\r\n                        Ver | Descargar\r\n                      </Link>\r\n                    </Stack>\r\n                  )}\r\n                  {documentList[name].expiration && (\r\n                    <Alert\r\n                      sx={{\r\n                        borderRadius: 0,\r\n                        textAlign: 'center',\r\n                        width: '100%',\r\n                        justifyContent: 'center',\r\n                        display: 'flex'\r\n                      }}\r\n                      variant={'standard'}\r\n                      icon={false}\r\n                      color={'warning'}\r\n                    >\r\n                      <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n                        {documentList[name].expiration}\r\n                      </Typography>\r\n                    </Alert>\r\n                  )}\r\n                  <DocumentDropzone\r\n                    name={name}\r\n                    accept={documentList[name].accept}\r\n                    setFieldValue={setFieldValue}\r\n                    file={values[name]}\r\n                  />\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n\r\n          <LoadingButton\r\n            loading={loading}\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            type=\"submit\"\r\n            sx={{ textTransform: 'uppercase' }}\r\n          >\r\n            Guardar\r\n          </LoadingButton>\r\n          {/* <pre>{JSON.stringify(values, null, 2)}</pre> */}\r\n        </Stack>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n"],"names":["CommerceUploadDocumentsAdapter","documents","commerceId","fiscalPersonType","documentsAdapted","formUpload","formUploadToDelete","key","value","contenido","archivo","documentTypes","documentList","useUploadDocuments","options","enqueueSnackbar","useSnackbar","client","useQueryClient","useMutation","uploadDocuments","COMMERCE_KEYS","error","message","getErrorAPI","useDeleteDocuments","deleteDocuments","DocumentDropzone","name","accept","setFieldValue","file","handleDrop","acceptedFiles","Object","assign","preview","URL","createObjectURL","handleRemove","jsx","Fragment","UploadSingleFile","DocumentDropzone$1","CommerceDocumentation","propTypes","store","PropTypes","shape","propTypesStore","resume","setActualProcess","setLastProcess","files","fiscalTypePerson","mutate","isLoading","uploadingDocuments","deletingDocuments","updateInfoCommerce","isUpdatingCommerce","useUpdateCommerceProcess","formik","useFormik","initialValues","keys","reduce","acc","type","find","Name","storePath","moralPerson","enableReinitialize","onSubmit","values","filterDocuments","some","fieldName","deleteDocumentsForm","uploadDocumentsForm","id","onSuccess","allDocumentsFilled","every","dataAdapted","CommerceUpdateAdapter","PROCESS_LIST","FINISHED_PROCESS","info","COMMERCE_DOCUMENTATION","variant","setSubmitting","handleSubmit","isSubmitting","useMemo","filter","document","loading","jsxs","Stack","Typography","Box","ToggleButtonGroup","event","newValue","ToggleButton","Grid","map","Card","p","borderRadius","textAlign","align","path","Link","expiration","Alert","width","justifyContent","display","LoadingButton","textTransform"],"mappings":"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"}
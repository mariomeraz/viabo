{"version":3,"file":"useFindCommerceToken-D051pF_x.js","sources":["../../../../../frontend/src/app/business/commerce/hooks/useFindCommerceToken.js"],"sourcesContent":["import { useQuery, useQueryClient } from '@tanstack/react-query'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nimport { COMMERCE_KEYS } from '@/app/business/commerce/adapters'\r\nimport { getCommerceToken } from '@/app/business/commerce/services'\r\nimport { getErrorAPI } from '@/shared/interceptors'\r\n\r\nexport const useFindCommerceToken = (email, options = {}) => {\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const client = useQueryClient()\r\n  return useQuery([COMMERCE_KEYS.TOKEN_COMMERCE], () => getCommerceToken(email), {\r\n    staleTime: 60 * 5000,\r\n    onSuccess: () => {\r\n      client.removeQueries([COMMERCE_KEYS.COMMERCE_PROCESS])\r\n    },\r\n    onError: error => {\r\n      const errorMessage = getErrorAPI(error, 'ðŸ˜Ÿ Error al obtener el comercio')\r\n      enqueueSnackbar(errorMessage, {\r\n        variant: 'error',\r\n        autoHideDuration: 5000\r\n      })\r\n    },\r\n    ...options\r\n  })\r\n}\r\n"],"names":["useFindCommerceToken","email","options","enqueueSnackbar","useSnackbar","client","useQueryClient","useQuery","COMMERCE_KEYS","getCommerceToken","error","errorMessage","getErrorAPI"],"mappings":"0JAOY,MAACA,EAAuB,CAACC,EAAOC,EAAU,KAAO,CAC3D,KAAM,CAAE,gBAAAC,CAAiB,EAAGC,EAAa,EACnCC,EAASC,EAAgB,EAC/B,OAAOC,EAAS,CAACC,EAAc,cAAc,EAAG,IAAMC,EAAiBR,CAAK,EAAG,CAC7E,UAAW,GAAK,IAChB,UAAW,IAAM,CACfI,EAAO,cAAc,CAACG,EAAc,gBAAgB,CAAC,CACtD,EACD,QAASE,GAAS,CAChB,MAAMC,EAAeC,EAAYF,EAAO,iCAAiC,EACzEP,EAAgBQ,EAAc,CAC5B,QAAS,QACT,iBAAkB,GAC1B,CAAO,CACF,EACD,GAAGT,CACP,CAAG,CACH"}
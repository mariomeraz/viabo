import{P as b,r as m,i as e,B as n,T as s,y as M,S as w,l as Z,aC as _}from"./vendor-5lkxkETF.js";import{o as I}from"./mui-one-time-password-input.es-DECpCfUz.js";import"./index-DkbAsBWZ.js";import{a as R,P as f}from"./processList-CzVvLx1j.js";import{u as N}from"./useFindCommerceToken-D051pF_x.js";import{p as O}from"./CommerceRegister-Aw28vNLE.js";import{u as B}from"./useSendValidationCode-CUm7PjRd.js";import{u as F}from"./useValidateCode-BtcjmgpO.js";import{m as z}from"./matchTypes-mENztEWg.js";const A="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='570'%20height='511.675'%20data-name='Layer%201'%3e%3cpath%20fill='%233f3d56'%20d='M880%20389.837a.997.997%200%200%201-.572-.179L602.87%20197.055a5.015%205.015%200%200%200-5.729.01L322.574%20389.655a1%201%200%200%201-1.148-1.637l274.567-192.592a7.022%207.022%200%200%201%208.02-.013L880.57%20388.017a1%201%200%200%201-.572%201.82Z'%20style='--darkreader-inline-fill:%232e2d42'%20transform='translate(-315%20-194.163)'/%3e%3cpath%20fill='%23e6e6e6'%20d='M23.264%20202.502%20285.276%208.319l264%20208-250.5%20148.5-136-31L23.264%20202.502z'%20style='--darkreader-inline-fill:%23222527'/%3e%3cpath%20fill='%23661fff'%20d='M489.256%20650.704h-129.44a6.047%206.047%200%201%201%200-12.095h129.44a6.047%206.047%200%201%201%200%2012.095Z'%20style='--darkreader-inline-fill:%233800bc'%20transform='translate(-315%20-194.163)'/%3e%3cpath%20fill='%23661fff'%20d='M406.256%20624.704h-46.44a6.047%206.047%200%201%201%200-12.095h46.44a6.047%206.047%200%201%201%200%2012.095Z'%20style='--darkreader-inline-fill:%23702bff'%20transform='translate(-315%20-194.163)'/%3e%3cpath%20fill='%23fff'%20d='M603.96%20504.822a7.564%207.564%200%200%201-2.869-.562l-161.59-67.049V227.337a7.008%207.008%200%200%201%207-7h310a7.008%207.008%200%200%201%207%207v210.02l-.305.13-156.28%2066.74a7.616%207.616%200%200%201-2.956.595Z'%20style='--darkreader-inline-fill:%23131516'%20transform='translate(-315%20-194.163)'/%3e%3cpath%20fill='%233f3d56'%20d='M603.96%20505.322a8.072%208.072%200%200%201-3.06-.6L439%20437.546V227.337a7.509%207.509%200%200%201%207.5-7.5h310a7.509%207.509%200%200%201%207.5%207.5v210.35l-156.888%2067a8.11%208.11%200%200%201-3.152.635ZM441%20436.209l160.663%2066.665a6.118%206.118%200%200%200%204.668-.028l155.67-66.479v-209.03a5.507%205.507%200%200%200-5.5-5.5h-310a5.507%205.507%200%200%200-5.5%205.5Z'%20style='--darkreader-inline-fill:%232e2d42'%20transform='translate(-315%20-194.163)'/%3e%3cpath%20fill='%233f3d56'%20d='M878%20387.837h-.2L763%20436.857l-157.07%2067.07a5.066%205.066%200%200%201-3.88.02L440%20436.717l-117.62-48.8-.18-.08h-.2a7.008%207.008%200%200%200-7%207v304a7.008%207.008%200%200%200%207%207h556a7.008%207.008%200%200%200%207-7v-304a7.008%207.008%200%200%200-7-7Zm5%20311a5.002%205.002%200%200%201-5%205H322a5.002%205.002%200%200%201-5-5v-304a5.011%205.011%200%200%201%204.81-5L440%20438.877l161.28%2066.92a7.12%207.12%200%200%200%205.44-.03L763%20439.027l115.2-49.19a5.016%205.016%200%200%201%204.8%205Z'%20style='--darkreader-inline-fill:%232e2d42'%20transform='translate(-315%20-194.163)'/%3e%3cpath%20fill='%23661fff'%20d='M602.345%20445.31a27.499%2027.499%200%200%201-16.546-5.497l-.296-.222-62.31-47.707a27.683%2027.683%200%201%201%2033.673-43.95l40.36%2030.948%2095.379-124.386a27.682%2027.682%200%200%201%2038.813-5.124l-.593.805.608-.793a27.714%2027.714%200%200%201%205.124%2038.813L624.369%20434.506a27.694%2027.694%200%200%201-22.024%2010.804Z'%20style='--darkreader-inline-fill:%233800bc'%20transform='translate(-315%20-194.163)'/%3e%3c/svg%3e";H.propTypes={store:b.shape(O)};function H({store:p}){const{lastProcess:h,setActualProcess:l,setLastProcess:x,setToken:g,token:u,resume:t}=p,{info:a}=h,{mutate:C,isLoading:y}=B(),{mutate:v,isLoading:S,isError:o,reset:j}=F(),{data:r,isError:q}=N(a==null?void 0:a.email,{enabled:!!(a!=null&&a.email)});m.useEffect(()=>{r&&g(r==null?void 0:r.token)},[r]);const[E,d]=m.useState(""),L=i=>{d(i),j()},k=i=>z(i),T=i=>{v({verificationCode:i,token:u},{onSuccess:()=>{var c;t!=null&&t.step?l(((c=R.find(V=>V.step===(t==null?void 0:t.step)))==null?void 0:c.name)||f.SERVICES_SELECTION):l(f.SERVICES_SELECTION),x()},onError:()=>{d("")}})},P=()=>{C({token:r==null?void 0:r.token})};return e.jsxs(e.Fragment,{children:[e.jsx(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",my:4},children:e.jsx("img",{className:"animate__animated animate__pulse",src:A,width:"25%",alt:"Sent Mail"})}),e.jsx(s,{variant:"h4",color:"textPrimary",align:"center",children:"Verificación de Cuenta"}),e.jsxs(s,{paragraph:!0,sx:{mb:4,mt:2},align:"center",variant:"body2",color:"text.secondary",whiteSpace:"pre-line",children:["Enviamos un correo electrónico a ",a==null?void 0:a.email," con el código de verificacion de tu cuenta, ingrese el código en el cuadro a continuación para verificar su cuenta."]}),e.jsx(I,{length:6,value:E,onComplete:T,onChange:L,validateChar:k,sx:{gap:{xs:1.5,sm:2,md:3}},TextFieldsProps:{placeholder:"-",error:o,disabled:S}}),!!o&&e.jsx(n,{mt:1,children:e.jsx(s,{variant:"caption",color:"error",children:"Código incorrecto"})}),e.jsx(n,{mb:5,children:e.jsx(M,{sx:{my:4},children:e.jsx(w,{direction:"row",spacing:1,justifyContent:"center",children:y?e.jsx(Z,{wid:!0,sx:{mx:3}}):e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"body2",children:"¿No tengo un código?"}),e.jsx(_,{underline:"hover",sx:{cursor:"pointer"},onClick:P,children:e.jsx(s,{variant:"body2",color:"primary",children:"Reenviar código"})})]})})})})]})}export{H as default};
//# sourceMappingURL=ValidationCode-BRGtzEl_.js.map

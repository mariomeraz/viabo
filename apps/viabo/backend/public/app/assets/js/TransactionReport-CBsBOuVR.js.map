{"version":3,"file":"TransactionReport-CBsBOuVR.js","sources":["../../../../../frontend/src/app/business/viabo-card/cards/components/details/incidence/TransactionReport.jsx"],"sourcesContent":["import { memo, useState } from 'react'\r\n\r\nimport { Send } from '@mui/icons-material'\r\nimport ExpandLess from '@mui/icons-material/ExpandLess'\r\nimport ExpandMore from '@mui/icons-material/ExpandMore'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport { Collapse, IconButton, Stack, Typography } from '@mui/material'\r\nimport { useFormik } from 'formik'\r\n\r\nimport { RightPanel } from '@/app/shared/components'\r\nimport { FormProvider, RFSelect, RFTextField, RFUploadMultiFile } from '@/shared/components/form'\r\nimport { Scrollbar } from '@/shared/components/scroll'\r\n\r\nfunction TransactionReport({ open, setOpen, selectedMovement }) {\r\n  const isIncome = selectedMovement?.type === 'ingreso'\r\n  const [openEvidences, setOpenEvidences] = useState(false)\r\n\r\n  const handleClose = () => {\r\n    setOpen(false)\r\n    setOpenEvidences(false)\r\n  }\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      description: '',\r\n      category: null,\r\n      files: []\r\n    },\r\n    onSubmit: values => {}\r\n  })\r\n\r\n  const { errors, touched, isSubmitting, setFieldValue, values, setSubmitting } = formik\r\n\r\n  return (\r\n    <RightPanel open={open} handleClose={handleClose} title={'Incidencia'}>\r\n      <Stack flexDirection=\"column\" alignItems={'center'} justifyContent={'space-between'} spacing={0} p={5}>\r\n        <Typography variant=\"subtitle1\">Movimiento </Typography>\r\n        <Stack direction={'row'} spacing={1} alignItems={'center'}>\r\n          <Typography variant=\"h3\" color={isIncome ? 'success.main' : 'error'}>\r\n            {`${isIncome ? `+ ${selectedMovement?.amountFormat}` : `- ${selectedMovement?.amountFormat}`}`}\r\n          </Typography>\r\n          <Typography variant=\"caption\" color={isIncome ? 'success.main' : 'error'}>\r\n            MXN\r\n          </Typography>\r\n        </Stack>\r\n        <Typography variant=\"caption\" color={'text.disabled'}>\r\n          {selectedMovement?.fullDate}{' '}\r\n        </Typography>\r\n      </Stack>\r\n      <Scrollbar containerProps={{ sx: { flexGrow: 0, height: 'auto' } }}>\r\n        <FormProvider formik={formik}>\r\n          <Stack spacing={2} sx={{ p: 3 }}>\r\n            <Stack>\r\n              <Typography paragraph variant=\"overline\" sx={{ color: 'text.disabled' }}>\r\n                Categoria:\r\n              </Typography>\r\n              <RFSelect\r\n                name={'category'}\r\n                textFieldParams={{ placeholder: 'Seleccionar ...', required: true }}\r\n                options={[\r\n                  { label: 'Fraude', value: '1' },\r\n                  { label: 'Contracargo', value: '2' }\r\n                ]}\r\n              />\r\n            </Stack>\r\n\r\n            <Stack>\r\n              <Typography paragraph variant=\"overline\" sx={{ color: 'text.disabled' }}>\r\n                Descripcion:\r\n              </Typography>\r\n\r\n              <RFTextField\r\n                name={'description'}\r\n                required\r\n                multiline\r\n                rows={2}\r\n                placeholder={'Motivo del cargo desconocido ..'}\r\n              />\r\n            </Stack>\r\n\r\n            <Stack spacing={3}>\r\n              <Stack\r\n                flexDirection={'row'}\r\n                alignItems=\"center\"\r\n                width={1}\r\n                sx={{ cursor: 'pointer' }}\r\n                onClick={() => setOpenEvidences(prevState => !openEvidences)}\r\n              >\r\n                <Typography variant=\"overline\" sx={{ color: 'text.disabled', width: 1 }}>\r\n                  Evidencias:\r\n                </Typography>\r\n\r\n                <IconButton onClick={() => setOpenEvidences(prevState => !openEvidences)}>\r\n                  {openEvidences ? <ExpandLess /> : <ExpandMore />}\r\n                </IconButton>\r\n              </Stack>\r\n\r\n              <Collapse in={openEvidences} timeout=\"auto\">\r\n                <RFUploadMultiFile\r\n                  name={'files'}\r\n                  maxSize={3145728}\r\n                  accept={{\r\n                    'image/*': ['.jpeg', '.png'],\r\n                    'application/pdf': ['.pdf']\r\n                  }}\r\n                />\r\n              </Collapse>\r\n            </Stack>\r\n\r\n            <Stack sx={{ pt: 3 }}>\r\n              <LoadingButton variant=\"contained\" color=\"primary\" fullWidth type=\"submit\" startIcon={<Send />}>\r\n                Enviar\r\n              </LoadingButton>\r\n            </Stack>\r\n          </Stack>\r\n        </FormProvider>\r\n      </Scrollbar>\r\n    </RightPanel>\r\n  )\r\n}\r\n\r\nexport default memo(TransactionReport)\r\n"],"names":["TransactionReport","open","setOpen","selectedMovement","isIncome","type","openEvidences","setOpenEvidences","useState","handleClose","formik","useFormik","initialValues","description","category","files","onSubmit","values","jsxs","RightPanel","Stack","jsx","Typography","amountFormat","fullDate","Scrollbar","sx","flexGrow","height","FormProvider","p","color","RFSelect","placeholder","required","label","value","RFTextField","cursor","prevState","width","IconButton","ExpandLess","ExpandMore","Collapse","RFUploadMultiFile","pt","LoadingButton","Send","memo"],"mappings":"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"}
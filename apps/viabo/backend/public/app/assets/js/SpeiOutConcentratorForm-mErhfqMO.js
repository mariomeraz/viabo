import{r as N,i as t,S as m,T as R,d$ as w,P as o}from"./vendor-5lkxkETF.js";import{u as V}from"./formik.esm-CTTSENmf.js";import{d as h,B as P}from"./AdminDashboardViaboSpei-B1bJP65o.js";import{F as T,R as x,M as I}from"./TextMaxLine-B63DtfW-.js";import{S as k}from"./index-DkbAsBWZ.js";import"./formatNumber-dGNhWwxT.js";import"./formatTime-jCgU2sMR.js";import"./matchTypes-mENztEWg.js";import"./viabo-spei-paths-CvU5WLsk.js";import"./filterSearch-NGUmCbyG.js";import"./fade-CViozI82.js";import"./transition-anLY3gj9.js";import"./usePagination-Xa7qo0UK.js";import"./HeaderPage-Bqn_U64p.js";import"./UploadSingleFile-ByYCreVQ.js";const E=({selectedAccount:a,setCurrentBalance:b,insufficient:B,onSuccess:f,initialValues:g})=>{const p=V({initialValues:g||{transactions:[],amount:"",concept:""},validateOnChange:!1,onSubmit:(n,{setFieldValue:i,setSubmitting:s})=>{var e;return s(!1),i("amount",""),f({...n,origin:(e=a==null?void 0:a.account)==null?void 0:e.number})}}),{isSubmitting:y,setFieldValue:u,values:r,handleSubmit:M}=p,l=y,S=window.crypto||window.msCrypto,j=new Uint32Array(1),C=S.getRandomValues(j)[0],F=(r==null?void 0:r.amount)===""||Number(r==null?void 0:r.amount)<=0;return N.useEffect(()=>{var s;const i=((s=r.transactions)==null?void 0:s.reduce((e,c)=>{const d=c.amount.trim()!==""?parseFloat(c.amount.replace(/,/g,"")):0;return isNaN(d)?e:e+d},0)).toFixed(2);b(i)},[r.transactions]),t.jsx(k,{containerProps:{sx:{flexGrow:0,height:"auto"}},children:t.jsx(T,{formik:p,children:t.jsxs(m,{sx:{p:3},spacing:3,children:[t.jsxs(m,{spacing:.5,children:[t.jsx(R,{variant:"caption",fontWeight:"bold",children:"Monto:"}),t.jsx(x,{size:"large",name:"amount",placeholder:"0.00",disabled:l,autoComplete:"off",InputProps:{startAdornment:t.jsx("span",{style:{marginRight:"5px"},children:"$"}),endAdornment:t.jsx("span",{style:{marginRight:"5px"},children:"MXN"}),inputComponent:I,inputProps:{mask:Number,radix:".",thousandsSeparator:",",padFractionalZeros:!0,min:0,scale:2,value:r.amount,onAccept:n=>{var i;u("amount",n),u("transactions",[{id:C,account:{clabe:(i=a==null?void 0:a.concentrator)==null?void 0:i.number,name:"ENVIÃ“ A CONCENTRADORA"},amount:r==null?void 0:r.amount}])}},sx:{borderRadius:n=>1,borderColor:h}}})]}),t.jsx(x,{fullWidth:!0,name:"concept",multiline:!0,disabled:l,rows:2,label:"Concepto",placeholder:"Transferencia ..",InputProps:{sx:{borderRadius:n=>1,borderColor:h}}}),t.jsx(m,{sx:{pt:3},children:t.jsx(P,{variant:"contained",size:"large",color:"primary",disabled:F,fullWidth:!0,type:"submit",startIcon:t.jsx(w,{}),children:"Siguiente"})})]})})})};E.propTypes={initialValues:o.shape({transactions:o.array,amount:o.string,concept:o.string}),insufficient:o.any,onSuccess:o.func,selectedAccount:o.shape({account:o.shape({number:o.any}),concentrator:o.shape({number:o.any})}),setCurrentBalance:o.func};export{E as default};
//# sourceMappingURL=SpeiOutConcentratorForm-mErhfqMO.js.map

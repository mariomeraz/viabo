{"version":3,"file":"Login-1d7gaed8.js","sources":["../../../../../frontend/src/app/authentication/hooks/useSignIn.js","../../../../../frontend/src/app/authentication/hooks/useValidateGoogleAuthCode.js","../../../../../frontend/src/shared/components/form/TypewriterTypography.jsx","../../../../../frontend/src/app/authentication/components/LoginForm.jsx","../../../../../frontend/src/shared/assets/img/login-image-2x.webp","../../../../../frontend/src/app/authentication/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react'\r\n\r\nimport { useIsFetching, useMutation, useQuery } from '@tanstack/react-query'\r\nimport { jwtDecode } from 'jwt-decode'\r\n\r\nimport { AUTHENTICATION_KEYS } from '@/app/authentication/adapters'\r\nimport { getUserModules, signIn } from '@/app/authentication/services'\r\nimport { axios, getErrorAPI, getNotificationTypeByErrorCode } from '@/shared/interceptors'\r\nimport { setSession } from '@/shared/utils'\r\n\r\nexport const useSignIn = (options = {}) => {\r\n  const [customError, setCustomError] = useState(null)\r\n  const [tokenExists, setTokenExists] = useState(false)\r\n  const [isTwoAuth, setIsTwoAuth] = useState(false)\r\n  const [token, setToken] = useState(null)\r\n\r\n  const isFetching = useIsFetching([AUTHENTICATION_KEYS.USER_MODULES])\r\n\r\n  const signInMutation = useMutation(signIn, {\r\n    onSuccess: response => {\r\n      setCustomError(null)\r\n      const token = response?.token\r\n      const decoded = jwtDecode(token)\r\n      const twoAuth = decoded?.authenticatorFactors || false\r\n      if (!twoAuth) {\r\n        setSession(token)\r\n      } else {\r\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`\r\n      }\r\n      setToken(token)\r\n      setIsTwoAuth(twoAuth)\r\n      setTokenExists(true)\r\n    },\r\n    onError: error => {\r\n      setTokenExists(false)\r\n      setSession(null)\r\n      setCustomError({\r\n        message: getErrorAPI(error, 'Ocurrio un error inesperado. Intente nuevamente o reportelo al área de sistemas'),\r\n        code: getNotificationTypeByErrorCode(error)\r\n      })\r\n    },\r\n    ...options\r\n  })\r\n\r\n  const userModules = useQuery([AUTHENTICATION_KEYS.USER_MODULES], getUserModules, {\r\n    onSuccess: data => {\r\n      setCustomError(null)\r\n      setTokenExists(false)\r\n    },\r\n    onError: error => {\r\n      setTokenExists(false)\r\n      setSession(null)\r\n      setCustomError({\r\n        message: getErrorAPI(error, 'Ocurrio un error inesperado. Intente nuevamente o reportelo al área de sistemas'),\r\n        code: getNotificationTypeByErrorCode(error)\r\n      })\r\n    },\r\n    enabled: !!tokenExists,\r\n    retry: false\r\n  })\r\n\r\n  return {\r\n    ...signInMutation,\r\n    setCustomError,\r\n    isError: signInMutation.isError || userModules.isError,\r\n    isSuccess: signInMutation.isSuccess && userModules.isSuccess,\r\n    isLoading: signInMutation.isLoading || isFetching === 1,\r\n    error: customError ?? null,\r\n    token,\r\n    isTwoAuth\r\n  }\r\n}\r\n","import { useState } from 'react'\r\n\r\nimport { useMutation } from '@tanstack/react-query'\r\nimport { toast } from 'react-toastify'\r\n\r\nimport { validateGoogleAuthCode } from '../services'\r\n\r\nimport { getErrorAPI, getNotificationTypeByErrorCode } from '@/shared/interceptors'\r\nimport { isFunction } from '@/shared/utils'\r\n\r\nexport const useValidateGoogleAuthCode = (options = {}) => {\r\n  const [customError, setCustomError] = useState(null)\r\n  const googleAuth = useMutation(validateGoogleAuthCode, options)\r\n  const mutate = async (formData, options) => {\r\n    const { onSuccess, onError, mutationOptions } = options\r\n\r\n    try {\r\n      const data = await toast.promise(googleAuth.mutateAsync(formData, mutationOptions), {\r\n        pending: 'Validando Codigo'\r\n      })\r\n      isFunction(onSuccess) && onSuccess(data)\r\n    } catch (error) {\r\n      const errorFormatted = getErrorAPI(\r\n        error,\r\n        `No se puede realizar esta operación en este momento. Intente nuevamente o reporte a sistemas`\r\n      )\r\n      setCustomError(errorFormatted)\r\n      isFunction(onError) && onError(errorFormatted)\r\n      toast.error(errorFormatted, {\r\n        type: getNotificationTypeByErrorCode(error)\r\n      })\r\n    }\r\n  }\r\n\r\n  return {\r\n    ...googleAuth,\r\n    mutate,\r\n    error: customError\r\n  }\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\nimport { Typography } from '@mui/material'\r\nimport { AnimatePresence, motion } from 'framer-motion'\r\n\r\nconst TypewriterTypography = ({ text, variant, loop, ...props }) => {\r\n  const [displayText, setDisplayText] = useState('')\r\n  const [currentIndex, setCurrentIndex] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      if (currentIndex < text.length) {\r\n        setDisplayText(prevText => prevText + text[currentIndex])\r\n        setCurrentIndex(prevIndex => prevIndex + 1)\r\n      } else if (loop) {\r\n        // Reset the display text and index to restart the loop\r\n        setDisplayText('')\r\n        setCurrentIndex(0)\r\n      }\r\n    }, 100)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [currentIndex, text, loop])\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} style={{ minHeight: '15px' }}>\r\n        <Typography variant={variant} {...props}>\r\n          {displayText}\r\n        </Typography>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  )\r\n}\r\n\r\nexport default TypewriterTypography\r\n","import { useEffect, useState } from 'react'\r\n\r\nimport { LockPersonRounded } from '@mui/icons-material'\r\nimport { LoadingButton } from '@mui/lab'\r\nimport { AlertTitle, Box, CircularProgress, InputLabel, Link, Stack, Typography } from '@mui/material'\r\nimport { useFormik } from 'formik'\r\nimport { m } from 'framer-motion'\r\nimport { MuiOtpInput } from 'mui-one-time-password-input'\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport * as Yup from 'yup'\r\n\r\nimport { useSignIn, useValidateGoogleAuthCode } from '@/app/authentication/hooks'\r\nimport { AlertWithFocus } from '@/shared/components/alerts'\r\nimport { MotionViewport, varFade } from '@/shared/components/animate'\r\nimport { FormProvider, RFPasswordField, RFTextField, TypewriterTypography } from '@/shared/components/form'\r\nimport { useAuth } from '@/shared/hooks'\r\nimport { matchIsNumeric, setSession } from '@/shared/utils'\r\n\r\nexport function LoginForm() {\r\n  const { login: loginContext } = useAuth()\r\n  const { mutate: login, error, isError, isLoading, isSuccess, setCustomError, isTwoAuth, token } = useSignIn()\r\n  const [showTwoAuth, setShowTwoAuth] = useState(false)\r\n  const [otp, setOtp] = useState('')\r\n  const {\r\n    mutate: validateCode,\r\n    isLoading: isValidatingCode,\r\n    error: errorCode,\r\n    isError: isErrorCode\r\n  } = useValidateGoogleAuthCode()\r\n\r\n  const LoginSchema = Yup.object().shape({\r\n    email: Yup.string().email('Ingrese un correo valido').required('El correo es requerido'),\r\n    password: Yup.string().required('La contraseña es requerida')\r\n  })\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: ''\r\n    },\r\n    validationSchema: LoginSchema,\r\n    onSubmit: (values, { setSubmitting }) => {\r\n      setCustomError(null)\r\n      const data = {\r\n        username: values?.email,\r\n        password: values?.password\r\n      }\r\n      login(data)\r\n    }\r\n  })\r\n\r\n  const { isSubmitting, setSubmitting } = formik\r\n\r\n  const loading = isLoading || isSubmitting\r\n\r\n  useEffect(() => {\r\n    if (isSuccess || isError) {\r\n      setSubmitting(false)\r\n    }\r\n    if (isSuccess && !isTwoAuth) {\r\n      loginContext()\r\n      setShowTwoAuth(false)\r\n    }\r\n    if (isSuccess && isTwoAuth) {\r\n      setShowTwoAuth(true)\r\n    }\r\n  }, [isError, isSuccess])\r\n\r\n  const handleChange = newValue => {\r\n    setOtp(newValue)\r\n  }\r\n\r\n  const validateChar = value => matchIsNumeric(value)\r\n\r\n  const handleComplete = value => {\r\n    validateCode(\r\n      { googleAuthenticatorCode: value, token },\r\n      {\r\n        onSuccess: () => {\r\n          setSession(token)\r\n          setShowTwoAuth(false)\r\n          loginContext()\r\n        },\r\n        onError: () => {\r\n          setOtp('')\r\n          setSession(null)\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  if (showTwoAuth) {\r\n    return (\r\n      <MotionViewport>\r\n        <Stack gap={5} p={4} justifyContent={'center'} height={1}>\r\n          <Stack>\r\n            <m.div variants={varFade().inRight}>\r\n              <Typography\r\n                align=\"center\"\r\n                variant=\"h3\"\r\n                sx={{\r\n                  color: 'primary.main',\r\n                  fontWeight: 'fontWeightMedium'\r\n                }}\r\n              >\r\n                Ingresa tu código\r\n              </Typography>\r\n            </m.div>\r\n\r\n            <m.div variants={varFade().inRight}>\r\n              <Typography\r\n                align=\"center\"\r\n                variant=\"h3\"\r\n                sx={{\r\n                  color: 'primary.light',\r\n                  fontWeight: 'fontWeightMedium'\r\n                }}\r\n              >\r\n                de autentificación\r\n              </Typography>\r\n            </m.div>\r\n\r\n            <Stack justifyContent={'center'} alignItems={'center'} mt={3}>\r\n              <LockPersonRounded sx={{ width: 40, height: 40, color: isErrorCode ? 'error.main' : 'primary.main' }} />\r\n            </Stack>\r\n          </Stack>\r\n\r\n          <Stack justifyContent={'center'} alignItems={'center'} gap={3}>\r\n            <Typography\r\n              textAlign={'center'}\r\n              variant=\"body2\"\r\n              fontWeight={600}\r\n              sx={{ color: 'text.secondary', textWrap: 'wrap' }}\r\n            >\r\n              Ingresa a la aplicación de{' '}\r\n              <Box component={'span'} color={'primary.main'}>\r\n                Google Authenticator\r\n              </Box>{' '}\r\n              y escribe el código a continuación\r\n            </Typography>\r\n            <MuiOtpInput\r\n              length={6}\r\n              value={otp}\r\n              onComplete={handleComplete}\r\n              onChange={handleChange}\r\n              validateChar={validateChar}\r\n              sx={{ gap: { xs: 1.5, sm: 2, md: 3 } }}\r\n              TextFieldsProps={{ placeholder: '0', disabled: isValidatingCode, error: isErrorCode }}\r\n            />\r\n          </Stack>\r\n          {isValidatingCode && (\r\n            <Stack justifyContent={'center'} alignItems={'center'} gap={3}>\r\n              <CircularProgress />\r\n              <Typography variant=\"body2\" fontWeight={600} sx={{ color: 'text.primary', textWrap: 'wrap' }}>\r\n                Iniciando Sesión...\r\n              </Typography>\r\n            </Stack>\r\n          )}\r\n        </Stack>\r\n      </MotionViewport>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <MotionViewport>\r\n      <Stack spacing={3} p={4} justifyContent={'center'} height={1}>\r\n        <Stack>\r\n          <m.div variants={varFade().inRight}>\r\n            <Typography\r\n              align=\"center\"\r\n              variant=\"h3\"\r\n              sx={{\r\n                color: 'primary.main',\r\n                fontWeight: 'fontWeightMedium'\r\n              }}\r\n            >\r\n              Aquí Comienza\r\n            </Typography>\r\n          </m.div>\r\n\r\n          <m.div variants={varFade().inRight}>\r\n            <Typography\r\n              align=\"center\"\r\n              variant=\"h3\"\r\n              sx={{\r\n                color: 'primary.light',\r\n                fontWeight: 'fontWeightMedium'\r\n              }}\r\n            >\r\n              tu agilidad en pagos\r\n            </Typography>\r\n          </m.div>\r\n        </Stack>\r\n\r\n        <TypewriterTypography\r\n          color={'common'}\r\n          text={'¡Es tiempo de transformar tu negocio!'}\r\n          variant=\"h6\"\r\n          align=\"center\"\r\n        />\r\n\r\n        {error && (\r\n          <AlertWithFocus listenElement={error} sx={{ mt: 3, textAlign: 'initial' }} severity={error?.code}>\r\n            <AlertTitle sx={{ textAlign: 'initial' }}>Inicio de Sesión</AlertTitle>\r\n            {error?.message}\r\n          </AlertWithFocus>\r\n        )}\r\n        <m.div {...varFade().in}>\r\n          <FormProvider formik={formik}>\r\n            <Stack spacing={2} flex={1}>\r\n              <Stack spacing={1}>\r\n                <InputLabel htmlFor=\"email\">Email</InputLabel>\r\n                <RFTextField\r\n                  id=\"email\"\r\n                  disabled={loading}\r\n                  name={'email'}\r\n                  placeholder={'usuario@dominio.com'}\r\n                  type={'email'}\r\n                  fullWidth\r\n                  InputLabelProps={{\r\n                    shrink: true\r\n                  }}\r\n                />\r\n              </Stack>\r\n\r\n              <Stack spacing={1}>\r\n                <InputLabel htmlFor=\"password\">Contraseña</InputLabel>\r\n                <RFPasswordField\r\n                  id=\"password\"\r\n                  InputLabelProps={{\r\n                    shrink: true\r\n                  }}\r\n                  disabled={loading}\r\n                  name=\"password\"\r\n                  placeholder={'********'}\r\n                  fullWidth\r\n                />\r\n              </Stack>\r\n\r\n              <Stack pt={1}>\r\n                <LoadingButton\r\n                  loading={loading}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  fullWidth\r\n                  type=\"submit\"\r\n                  size={'large'}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Accesar a mi cuenta\r\n                </LoadingButton>\r\n              </Stack>\r\n\r\n              <Typography variant=\"body2\" fontWeight={600} align=\"center\" sx={{ color: 'text.secondary' }}>\r\n                ¿No tienes una cuenta? &nbsp;\r\n                <Link color=\"primary\" component={RouterLink} to={'/registro'}>\r\n                  Inscribete.\r\n                </Link>\r\n              </Typography>\r\n            </Stack>\r\n          </FormProvider>\r\n        </m.div>\r\n      </Stack>\r\n    </MotionViewport>\r\n  )\r\n}\r\n","export default \"__VITE_ASSET__WI3hbB2K__\"","import { useEffect } from 'react'\r\n\r\nimport { Box, Stack, Typography } from '@mui/material'\r\nimport { useQueryClient } from '@tanstack/react-query'\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component'\r\n\r\nimport { LoginForm } from '../components'\r\n\r\nimport LoginImage from '@/shared/assets/img/login-image-2x.webp'\r\nimport { Page } from '@/shared/components/containers'\r\nimport { FullLogo } from '@/shared/components/images'\r\n\r\nconst Login = () => {\r\n  const client = useQueryClient()\r\n\r\n  useEffect(() => {\r\n    client.removeQueries()\r\n  }, [])\r\n\r\n  return (\r\n    <Page title=\"Inicio de Sesión\">\r\n      <Stack alignItems={'center'} justifyContent={'center'} minHeight={'100dvH'}>\r\n        <Stack px={{ sm: 10, xl: 20 }} width={1} height={1} direction={'row'}>\r\n          <Stack\r\n            flexGrow={1}\r\n            width={1}\r\n            height={1}\r\n            minHeight={'70vh'}\r\n            maxHeight={'90vH'}\r\n            position={'relative'}\r\n            sx={{ overflowX: 'hidden', overflowY: 'auto' }}\r\n            justifyContent={'space-between'}\r\n          >\r\n            <Stack direction={'row'} spacing={1} alignItems={'center'} px={{ xs: 5, sm: 0 }}>\r\n              <FullLogo sx={{ width: 100 }} />\r\n              <Typography fontWeight={'600'} variant=\"subtitle1\">\r\n                Agilidad en pagos\r\n              </Typography>\r\n            </Stack>\r\n            <Box flexGrow={1} />\r\n            <Stack flex={1} px={{ xs: 0, sm: 5, xl: 15 }}>\r\n              <LoginForm />\r\n            </Stack>\r\n          </Stack>\r\n          <Stack\r\n            width={1}\r\n            justifyContent={'center'}\r\n            height={1}\r\n            flexGrow={1}\r\n            sx={{ display: { xs: 'none', sm: 'none', lg: 'flex' } }}\r\n          >\r\n            <Box\r\n              component={LazyLoadImage}\r\n              placeholderSrc=\"https://zone-assets-api.vercel.app/assets/img_placeholder.svg\"\r\n              wrapperClassName=\"wrapper\"\r\n              effect={'blur'}\r\n              height={1}\r\n              maxHeight={'90vH'}\r\n              sx={{ objectFit: 'fill' }}\r\n              borderRadius={4}\r\n              src={LoginImage}\r\n            />\r\n          </Stack>\r\n        </Stack>\r\n      </Stack>\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"names":["useSignIn","options","customError","setCustomError","useState","tokenExists","setTokenExists","isTwoAuth","setIsTwoAuth","token","setToken","isFetching","useIsFetching","AUTHENTICATION_KEYS","signInMutation","useMutation","signIn","response","decoded","jwtDecode","twoAuth","axios","setSession","error","getErrorAPI","getNotificationTypeByErrorCode","userModules","useQuery","getUserModules","data","useValidateGoogleAuthCode","googleAuth","validateGoogleAuthCode","formData","onSuccess","onError","mutationOptions","toast","isFunction","errorFormatted","TypewriterTypography","text","variant","loop","props","displayText","setDisplayText","currentIndex","setCurrentIndex","useEffect","interval","setInterval","length","prevText","prevIndex","clearInterval","AnimatePresence","jsx","motion","opacity","minHeight","Typography","LoginForm","login","loginContext","useAuth","mutate","isError","isLoading","isSuccess","showTwoAuth","setShowTwoAuth","otp","setOtp","validateCode","isValidatingCode","errorCode","isErrorCode","LoginSchema","Yup","shape","email","required","password","formik","useFormik","initialValues","validationSchema","onSubmit","values","setSubmitting","username","isSubmitting","loading","handleChange","newValue","validateChar","matchIsNumeric","value","handleComplete","googleAuthenticatorCode","MotionViewport","jsxs","Stack","m","varFade","inRight","color","fontWeight","LockPersonRounded","width","height","textWrap","Box","MuiOtpInput","gap","xs","sm","md","placeholder","disabled","CircularProgress","AlertWithFocus","mt","textAlign","code","AlertTitle","message","in","FormProvider","InputLabel","RFTextField","shrink","RFPasswordField","LoadingButton","Link","RouterLink","LoginImage","Login","client","useQueryClient","removeQueries","Page","xl","overflowX","overflowY","FullLogo","display","lg","LazyLoadImage","objectFit"],"mappings":"+5BAUO,MAAMA,GAAY,CAACC,EAAU,KAAO,CACzC,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,IAAI,EAC7C,CAACC,EAAaC,CAAc,EAAIF,EAAAA,SAAS,EAAK,EAC9C,CAACG,EAAWC,CAAY,EAAIJ,EAAAA,SAAS,EAAK,EAC1C,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAS,IAAI,EAEjCO,EAAaC,EAAc,CAACC,EAAoB,YAAY,CAAC,EAE7DC,EAAiBC,EAAYC,GAAQ,CACzC,UAAWC,GAAY,CACrBd,EAAe,IAAI,EACnB,MAAMM,EAAQQ,GAAA,YAAAA,EAAU,MAClBC,EAAUC,EAAUV,CAAK,EACzBW,GAAUF,GAAA,YAAAA,EAAS,uBAAwB,GAC5CE,EAGHC,GAAM,SAAS,QAAQ,OAAO,cAAgB,UAAUZ,CAAK,GAF7Da,EAAWb,CAAK,EAIlBC,EAASD,CAAK,EACdD,EAAaY,CAAO,EACpBd,EAAe,EAAI,CACpB,EACD,QAASiB,GAAS,CAChBjB,EAAe,EAAK,EACpBgB,EAAW,IAAI,EACfnB,EAAe,CACb,QAASqB,EAAYD,EAAO,iFAAiF,EAC7G,KAAME,EAA+BF,CAAK,CAClD,CAAO,CACF,EACD,GAAGtB,CACP,CAAG,EAEKyB,EAAcC,EAAS,CAACd,EAAoB,YAAY,EAAGe,GAAgB,CAC/E,UAAWC,GAAQ,CACjB1B,EAAe,IAAI,EACnBG,EAAe,EAAK,CACrB,EACD,QAASiB,GAAS,CAChBjB,EAAe,EAAK,EACpBgB,EAAW,IAAI,EACfnB,EAAe,CACb,QAASqB,EAAYD,EAAO,iFAAiF,EAC7G,KAAME,EAA+BF,CAAK,CAClD,CAAO,CACF,EACD,QAAS,CAAC,CAAClB,EACX,MAAO,EACX,CAAG,EAED,MAAO,CACL,GAAGS,EACH,eAAAX,EACA,QAASW,EAAe,SAAWY,EAAY,QAC/C,UAAWZ,EAAe,WAAaY,EAAY,UACnD,UAAWZ,EAAe,WAAaH,IAAe,EACtD,MAAOT,GAAe,KACtB,MAAAO,EACA,UAAAF,CACD,CACH,EC7DauB,GAA4B,CAAC7B,EAAU,KAAO,CACzD,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,IAAI,EAC7C2B,EAAahB,EAAYiB,GAAwB/B,CAAO,EAsB9D,MAAO,CACL,GAAG8B,EACH,OAvBa,MAAOE,EAAUhC,IAAY,CAC1C,KAAM,CAAE,UAAAiC,EAAW,QAAAC,EAAS,gBAAAC,CAAiB,EAAGnC,EAEhD,GAAI,CACF,MAAM4B,EAAO,MAAMQ,EAAM,QAAQN,EAAW,YAAYE,EAAUG,CAAe,EAAG,CAClF,QAAS,kBACjB,CAAO,EACDE,EAAWJ,CAAS,GAAKA,EAAUL,CAAI,CACxC,OAAQN,EAAO,CACd,MAAMgB,EAAiBf,EACrBD,EACA,8FACD,EACDpB,EAAeoC,CAAc,EAC7BD,EAAWH,CAAO,GAAKA,EAAQI,CAAc,EAC7CF,EAAM,MAAME,EAAgB,CAC1B,KAAMd,EAA+BF,CAAK,CAClD,CAAO,CACF,CACF,EAKC,MAAOrB,CACR,CACH,EClCMsC,GAAuBA,CAAC,CAAEC,KAAAA,EAAMC,QAAAA,EAASC,KAAAA,EAAM,GAAGC,CAAM,IAAM,CAClE,KAAM,CAACC,EAAaC,CAAc,EAAI1C,WAAS,EAAE,EAC3C,CAAC2C,EAAcC,CAAe,EAAI5C,WAAS,CAAC,EAElD6C,OAAAA,EAAAA,UAAU,IAAM,CACRC,MAAAA,EAAWC,YAAY,IAAM,CAC7BJ,EAAeN,EAAKW,QACtBN,EAA2BO,GAAAA,EAAWZ,EAAKM,CAAY,CAAC,EACxCO,EAAAA,GAAaA,EAAY,CAAC,GACjCX,IAETG,EAAe,EAAE,EACjBE,EAAgB,CAAC,IAElB,GAAG,EAEC,MAAA,IAAMO,cAAcL,CAAQ,CAClC,EAAA,CAACH,EAAcN,EAAME,CAAI,CAAC,QAG1Ba,EACC,CAAA,SAAAC,EAAA,IAACC,EAAO,IAAP,CAAW,QAAS,CAAEC,QAAS,GAAK,QAAS,CAAEA,QAAS,GAAK,KAAM,CAAEA,QAAS,GAAK,MAAO,CAAEC,UAAW,MAAO,EAC7G,eAACC,EAAW,CAAA,QAAAnB,EAAkB,GAAIE,EAC/BC,SAAAA,CAAAA,CACH,CACF,CAAA,CACF,CAAA,CAEJ,ECfO,SAASiB,IAAY,CACpB,KAAA,CAAEC,MAAOC,GAAiBC,GAAQ,EAClC,CAAEC,OAAQH,EAAOxC,MAAAA,EAAO4C,QAAAA,EAASC,UAAAA,EAAWC,UAAAA,EAAWlE,eAAAA,EAAgBI,UAAAA,EAAWE,MAAAA,GAAUT,GAAU,EACtG,CAACsE,EAAaC,CAAc,EAAInE,WAAS,EAAK,EAC9C,CAACoE,EAAKC,CAAM,EAAIrE,WAAS,EAAE,EAC3B,CACJ8D,OAAQQ,EACRN,UAAWO,EACXpD,MAAOqD,EACPT,QAASU,GACP/C,GAA0B,EAExBgD,EAAcC,GAAW,EAAEC,MAAM,CACrCC,MAAOF,EAAW,EAAEE,MAAM,0BAA0B,EAAEC,SAAS,wBAAwB,EACvFC,SAAUJ,EAAW,EAAEG,SAAS,4BAA4B,CAAA,CAC7D,EAEKE,EAASC,GAAU,CACvBC,cAAe,CACbL,MAAO,GACPE,SAAU,EACZ,EACAI,iBAAkBT,EAClBU,SAAUA,CAACC,EAAQ,CAAEC,cAAAA,EAAAA,IAAoB,CACvCvF,EAAe,IAAI,EACnB,MAAM0B,EAAO,CACX8D,SAAUF,GAAAA,YAAAA,EAAQR,MAClBE,SAAUM,GAAAA,YAAAA,EAAQN,QAAAA,EAEpBpB,EAAMlC,CAAI,CACZ,CAAA,CACD,EAEK,CAAE+D,aAAAA,EAAcF,cAAAA,CAAkBN,EAAAA,EAElCS,EAAUzB,GAAawB,EAE7B3C,EAAAA,UAAU,IAAM,EACVoB,GAAaF,IACfuB,EAAc,EAAK,EAEjBrB,GAAa,CAAC9D,IACHyD,IACbO,EAAe,EAAK,GAElBF,GAAa9D,GACfgE,EAAe,EAAI,CACrB,EACC,CAACJ,EAASE,CAAS,CAAC,EAEvB,MAAMyB,EAA2BC,GAAA,CAC/BtB,EAAOsB,CAAQ,CAAA,EAGXC,EAAwBC,GAAAA,GAAeC,CAAK,EAE5CC,EAA0BD,GAAA,CAE5BxB,EAAA,CAAE0B,wBAAyBF,EAAOzF,MAAAA,CAAAA,EAClC,CACEyB,UAAWA,IAAM,CACfZ,EAAWb,CAAK,EAChB8D,EAAe,EAAK,EACPP,GACf,EACA7B,QAASA,IAAM,CACbsC,EAAO,EAAE,EACTnD,EAAW,IAAI,CACjB,CAAA,CAEJ,CAAA,EAGF,OAAIgD,EAEAb,EAAAA,IAAC4C,EACC,CAAA,SAAAC,EAAA,KAACC,EAAM,CAAA,IAAK,EAAG,EAAG,EAAG,eAAgB,SAAU,OAAQ,EACrD,SAAA,CAAAD,OAACC,EACC,CAAA,SAAA,CAAA9C,EAAA,IAAC+C,EAAE,IAAF,CAAM,SAAUC,EAAQ,EAAEC,QACzB,SAAAjD,EAAAA,IAACI,EACC,CAAA,MAAM,SACN,QAAQ,KACR,GAAI,CACF8C,MAAO,eACPC,WAAY,kBAAA,EAEf,4BAED,CAAA,EACF,EAECnD,EAAA,IAAA+C,EAAE,IAAF,CAAM,SAAUC,EAAQ,EAAEC,QACzB,SAAAjD,EAAAA,IAACI,EACC,CAAA,MAAM,SACN,QAAQ,KACR,GAAI,CACF8C,MAAO,gBACPC,WAAY,kBAAA,EAEf,6BAED,CAAA,EACF,EAEAnD,EAAAA,IAAC8C,EAAM,CAAA,eAAgB,SAAU,WAAY,SAAU,GAAI,EACzD,SAAC9C,EAAA,IAAAoD,EAAA,CAAkB,GAAI,CAAEC,MAAO,GAAIC,OAAQ,GAAIJ,MAAO9B,EAAc,aAAe,gBAAoB,CAC1G,CAAA,CAAA,EACF,SAEC0B,EAAM,CAAA,eAAgB,SAAU,WAAY,SAAU,IAAK,EAC1D,SAAA,CAAAD,OAACzC,GACC,UAAW,SACX,QAAQ,QACR,WAAY,IACZ,GAAI,CAAE8C,MAAO,iBAAkBK,SAAU,MAC1C,EAAA,SAAA,CAAA,6BAC4B,UAC1BC,EAAI,CAAA,UAAW,OAAQ,MAAO,eAAgB,SAE/C,uBAAA,EAAO,IAAI,oCAAA,EAEb,EACAxD,EAAAA,IAACyD,GACC,CAAA,OAAQ,EACR,MAAO1C,EACP,WAAY2B,EACZ,SAAUL,EACV,aAAAE,EACA,GAAI,CAAEmB,IAAK,CAAEC,GAAI,IAAKC,GAAI,EAAGC,GAAI,CAAE,GACnC,gBAAiB,CAAEC,YAAa,IAAKC,SAAU7C,EAAkBpD,MAAOsD,CAAAA,EACxE,CAAA,EACJ,EACCF,UACE4B,EAAM,CAAA,eAAgB,SAAU,WAAY,SAAU,IAAK,EAC1D,SAAA,CAAA9C,EAAA,IAACgE,EAAmB,EAAA,QACnB5D,EAAW,CAAA,QAAQ,QAAQ,WAAY,IAAK,GAAI,CAAE8C,MAAO,eAAgBK,SAAU,MAAA,EAAU,SAE9F,sBAAA,CAAA,EACF,CAAA,CAEJ,CAAA,CACF,CAAA,EAKFvD,EAAAA,IAAC4C,EACC,CAAA,SAAAC,EAAA,KAACC,EAAM,CAAA,QAAS,EAAG,EAAG,EAAG,eAAgB,SAAU,OAAQ,EACzD,SAAA,CAAAD,OAACC,EACC,CAAA,SAAA,CAAA9C,EAAA,IAAC+C,EAAE,IAAF,CAAM,SAAUC,EAAQ,EAAEC,QACzB,SAAAjD,EAAAA,IAACI,EACC,CAAA,MAAM,SACN,QAAQ,KACR,GAAI,CACF8C,MAAO,eACPC,WAAY,kBAAA,EAEf,wBAED,CAAA,EACF,EAECnD,EAAA,IAAA+C,EAAE,IAAF,CAAM,SAAUC,EAAQ,EAAEC,QACzB,SAAAjD,EAAAA,IAACI,EACC,CAAA,MAAM,SACN,QAAQ,KACR,GAAI,CACF8C,MAAO,gBACPC,WAAY,kBAAA,EAEf,+BAED,CAAA,EACF,CAAA,EACF,EAEAnD,EAAAA,IAACjB,IACC,MAAO,SACP,KAAM,wCACN,QAAQ,KACR,MAAM,QACN,CAAA,EAEDjB,GACC+E,EAAA,KAACoB,GAAe,CAAA,cAAenG,EAAO,GAAI,CAAEoG,GAAI,EAAGC,UAAW,SAAU,EAAG,SAAUrG,GAAAA,YAAAA,EAAOsG,KAC1F,SAAA,CAAApE,MAACqE,GAAW,GAAI,CAAEF,UAAW,SAAA,EAAa,SAAgB,mBAAA,EACzDrG,GAAAA,YAAAA,EAAOwG,OAAAA,EACV,QAEDvB,EAAE,IAAF,CAAM,GAAIC,IAAUuB,GACnB,SAACvE,EAAAA,IAAAwE,GAAA,CAAa,OAAA7C,EACZ,SAACkB,EAAA,KAAAC,EAAA,CAAM,QAAS,EAAG,KAAM,EACvB,SAAA,CAACD,EAAAA,KAAAC,EAAA,CAAM,QAAS,EACd,SAAA,CAAC9C,EAAA,IAAAyE,EAAA,CAAW,QAAQ,QAAQ,SAAK,QAAA,EAChCzE,EAAA,IAAA0E,GAAA,CACC,GAAG,QACH,SAAUtC,EACV,KAAM,QACN,YAAa,sBACb,KAAM,QACN,UAAS,GACT,gBAAiB,CACfuC,OAAQ,EAAA,EAEV,CAAA,EACJ,EAEA9B,EAAAA,KAACC,EAAM,CAAA,QAAS,EACd,SAAA,CAAC9C,EAAA,IAAAyE,EAAA,CAAW,QAAQ,WAAW,SAAU,aAAA,EACxCzE,EAAAA,IAAA4E,GAAA,CACC,GAAG,WACH,gBAAiB,CACfD,OAAQ,EAAA,EAEV,SAAUvC,EACV,KAAK,WACL,YAAa,WACb,UAAS,GACT,CAAA,EACJ,EAEApC,EAAAA,IAAC8C,GAAM,GAAI,EACT,eAAC+B,EACC,CAAA,QAAAzC,EACA,QAAQ,YACR,MAAM,UACN,UAAS,GACT,KAAK,SACL,KAAM,QACN,SAAUD,EACX,+BAED,CACF,CAAA,EAEAU,OAACzC,GAAW,QAAQ,QAAQ,WAAY,IAAK,MAAM,SAAS,GAAI,CAAE8C,MAAO,gBAAoB,EAAA,SAAA,CAAA,2BAE3FlD,EAAAA,IAAC8E,GAAK,MAAM,UAAU,UAAWC,GAAY,GAAI,YAAa,SAE9D,aAAA,CAAA,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,CCzQA,MAAeC,GAAA,uCCYTC,GAAQA,IAAM,CAClB,MAAMC,EAASC,KAEf3F,OAAAA,EAAAA,UAAU,IAAM,CACd0F,EAAOE,cAAc,CACvB,EAAG,CAAE,CAAA,EAGFpF,EAAA,IAAAqF,GAAA,CAAK,MAAM,mBACV,eAACvC,EAAM,CAAA,WAAY,SAAU,eAAgB,SAAU,UAAW,SAChE,SAAAD,EAAA,KAACC,GAAM,GAAI,CAAEc,GAAI,GAAI0B,GAAI,EAAA,EAAM,MAAO,EAAG,OAAQ,EAAG,UAAW,MAC7D,SAAA,CAAAzC,EAAA,KAACC,EACC,CAAA,SAAU,EACV,MAAO,EACP,OAAQ,EACR,UAAW,OACX,UAAW,OACX,SAAU,WACV,GAAI,CAAEyC,UAAW,SAAUC,UAAW,MAAA,EACtC,eAAgB,gBAEhB,SAAA,CAAA3C,OAACC,GAAM,UAAW,MAAO,QAAS,EAAG,WAAY,SAAU,GAAI,CAAEa,GAAI,EAAGC,GAAI,CAC1E,EAAA,SAAA,CAAA5D,MAACyF,IAAS,GAAI,CAAEpC,MAAO,GAAA,EAAS,QAC/BjD,EAAW,CAAA,WAAY,MAAO,QAAQ,YAAY,SAEnD,oBAAA,CAAA,EACF,EACAJ,EAAAA,IAACwD,EAAI,CAAA,SAAU,CAAK,CAAA,EACnBxD,EAAAA,IAAA8C,EAAA,CAAM,KAAM,EAAG,GAAI,CAAEa,GAAI,EAAGC,GAAI,EAAG0B,GAAI,EAAG,EACzC,SAACtF,EAAA,IAAAK,GAAA,CAAA,CAAY,CACf,CAAA,CAAA,EACF,EACAL,EAAAA,IAAC8C,EACC,CAAA,MAAO,EACP,eAAgB,SAChB,OAAQ,EACR,SAAU,EACV,GAAI,CAAE4C,QAAS,CAAE/B,GAAI,OAAQC,GAAI,OAAQ+B,GAAI,MAAO,CAAA,EAEpD,SAAA3F,EAAAA,IAACwD,EACC,CAAA,UAAWoC,GAAAA,cACX,eAAe,gEACf,iBAAiB,UACjB,OAAQ,OACR,OAAQ,EACR,UAAW,OACX,GAAI,CAAEC,UAAW,MACjB,EAAA,aAAc,EACd,IAAKb,GACL,CACJ,CAAA,CAAA,EACF,EACF,CACF,CAAA,CAEJ"}
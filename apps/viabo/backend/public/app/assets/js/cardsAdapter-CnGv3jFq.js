import{bd as m,aH as g}from"./vendor-5lkxkETF.js";import{r as b}from"./index-DkbAsBWZ.js";import{f as M,a as T,c as k}from"./formatNumber-dGNhWwxT.js";import{f as D}from"./formatTime-jCgU2sMR.js";import{c as x}from"./matchTypes-mENztEWg.js";const c=e=>{const t=b(e==null?void 0:e.ciphertext,e==null?void 0:e.iv),s=parseFloat((t==null?void 0:t.balance)===""?"0":t==null?void 0:t.balance.replace(/,/g,""));if(t)return{SPEI:t==null?void 0:t.spei,PAYNET:t==null?void 0:t.paynet,cardON:(t==null?void 0:t.block)==="UnBlocked",nip:t==null?void 0:t.nip,balance:s,balanceFormatted:M(s)};throw new Error("Algo fallo al obtenerla informacion")};function y(e){const{id:t,number:s,CVV:i,register:o,expirationDate:l,paymentProcessorName:r,paymentProcessorId:f,statusId:C,statusName:w,commerceId:h,commerceName:I,ownerId:U,ownerName:n,ownerLastname:p,ownerPhone:A,ownerEmail:V,recorderId:v,recorderName:E,assignmentDate:u,active:P}=e,N=s==null?void 0:s.slice(-4);let a=n??"";return(a==null?void 0:a.length)>10&&(a=a.slice(0,13)+"..."),{id:t,cardTypeId:f,cardType:r,assignCommerce:{id:h,name:I},assignUser:{id:U,fullName:n!==""?m.startCase(m.camelCase(`${n==null?void 0:n.trim()} ${p==null?void 0:p.trim()} `)):"-",name:n===""?"-":m.startCase(m.camelCase(n)),lastName:m.startCase(m.camelCase(p)),phone:A,email:V,dateTime:u===""?"-":D(u),date:u===""?"-":g(new Date(o),"dd MMM yyyy"),time:u===""?"-":g(new Date(o),"p"),lastLogged:e!=null&&e.sessionLastDate&&(e==null?void 0:e.sessionLastDate)!==""?D(e==null?void 0:e.sessionLastDate):null},staffRegister:{id:v,name:E},cardNumber:s,cardNumberHidden:T(s),cardNumberMoreDigits:k(s),cardUserNumber:(a==null?void 0:a.toUpperCase())+" "+N,binCard:N,expiration:l,register:D(o),registerDate:o?g(new Date(o),"dd MMM yyyy"):"",registerTime:o?g(new Date(o),"p"):"",cvv:i,emptyCVV:i===""||!i?"SIN CVV":"CON CVV",status:{id:C,name:w},cardStatus:{isActive:(e==null?void 0:e.block)==="UnBlocked",name:(e==null?void 0:e.block)==="UnBlocked"?"Encendida":"Apagada"}}}const O=e=>{const t=b(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);if(t&&Array.isArray(t)){const s=t==null?void 0:t.map(i=>y(i));return s==null||s.sort((i,o)=>{var l,r,f;return(f=(l=i==null?void 0:i.assignUser)==null?void 0:l.fullName)==null?void 0:f.localeCompare((r=o==null?void 0:o.assignUser)==null?void 0:r.fullName)}),x(s,"id","cardUserNumber")||[]}throw new Error("No se pueden obtener las tarjetas")};export{y as C,O as a,c as b};
//# sourceMappingURL=cardsAdapter-CnGv3jFq.js.map

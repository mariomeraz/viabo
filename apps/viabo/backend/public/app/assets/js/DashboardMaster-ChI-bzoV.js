import{r as p,P as f,i as s,S as g,T as M,m as $,K as Is,bN as Ss,Q as xs,aV as Ts,aM as m,bg as hs,I as cs,aL as J,B as U,bO as gs,y as Ps,aH as z,aq as Q,e as v,U as G,aI as ps,aJ as us,az as ws,aK as Es,M as q}from"./vendor-5lkxkETF.js";import{L as X,_ as Y,J as Ds,f as ds,h as Rs,C as Fs,r as ys,a as ss,g as es,b as ts,R as Os,P as Bs,p as As}from"./index-DkbAsBWZ.js";import{R as _s}from"./RightPanel-DRwW1nHJ.js";import{f as b}from"./formatNumber-dGNhWwxT.js";import{u as Z,e as ks,D as ns}from"./useToggleStatusCard-DsdEWGTJ.js";import{u as _}from"./masterGlobalsStore-DSuSoFY2.js";import{g as Ls}from"./cardTypes-DiZXL2sx.js";import{a as Ns}from"./TextMaxLine-B63DtfW-.js";import{f as zs}from"./formatTime-jCgU2sMR.js";import{a as Ws}from"./cardsAdapter-CnGv3jFq.js";import{B as Hs,a as Gs}from"./index-C6YA3NyB.js";import{M as Vs,L as Ks,F as qs}from"./FundingOrder-BkfJ4Xe8.js";import{C as $s}from"./CardMovementsHeader-DQjsUqAT.js";import{g as Us}from"./operationTypes-DSVpUfFk.js";import{M as Xs}from"./MaterialDataTable-Dl1JQ_sM.js";import{u as Ys}from"./useMaterialTable-8QQmzXWd.js";import{C as Js,H as Qs}from"./HeaderPage-Bqn_U64p.js";import"./cardMovementsAdapter-DwJrnLuP.js";import"./AmexLogo-BNm7u8Au.js";import"./CarnetLogo-CFGRKXQt.js";import"./MasterCardLogo-C26mw1FM.js";import"./VisaLogo-BXtVVQaT.js";import"./formik.esm-CTTSENmf.js";import"./matchTypes-mENztEWg.js";import"./UploadSingleFile-ByYCreVQ.js";import"./fade-CViozI82.js";import"./transition-anLY3gj9.js";import"./iconBase-jHcAKz16.js";import"./index.esm-gIIytEq8.js";import"./Link-XGlIRIJP.js";import"./viabo-card-CcTpX9JZ.js";import"./viabo-pay-Tb0TUikx.js";const Zs=X(p.lazy(()=>Y(()=>import("./TransactionForm-CFGdpmYc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])))),ms=X(p.lazy(()=>Y(()=>import("./ResumeTransactionForm-0JEbCqgi.js"),__vite__mapDeps([18,1,2,3,8,6,7,9,10,11,19,20,21,22,23])))),fs=({open:e,setOpen:o,card:r,cardList:c=[]})=>{const[n,i]=p.useState(0),x=p.useMemo(()=>r==null?void 0:r.balance,[r==null?void 0:r.balance]),[t,h]=p.useState(!1),[I,C]=p.useState(null),[y,w]=p.useState(!1),B=p.useMemo(()=>(parseFloat(x)-n).toFixed(2)<0,[n,x]),D=()=>{o(!1),i(0),h(!1),C(null),w(!1)},u=T=>{const W=r==null?void 0:r.id;C({cardOriginId:W,paymentProcessor:r==null?void 0:r.paymentProcessor,isGlobal:!1,transactions:(T==null?void 0:T.transactions)||[],concept:T==null?void 0:T.concept,balance:x,currentBalance:n}),h(!0)},E=()=>{h(!1)},R=s.jsx(M,{variant:"h6",children:" RevisiÃ³n - Fondeo Tarjetas"}),A=s.jsxs(s.Fragment,{children:[s.jsxs(g,{flexDirection:"column",alignItems:"center",justifyContent:"space-between",spacing:0,px:3,pt:2,children:[s.jsx(M,{variant:"subtitle1",children:"Saldo"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"h3",color:"success.main",children:b(x)}),s.jsx(M,{variant:"caption",color:"success.main",children:"MXN"})]}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsxs(M,{variant:"subtitle1",color:"error",children:["- ",b(n)]}),s.jsx(M,{variant:"caption",color:"error",children:"MXN"})]}),B&&s.jsx(M,{variant:"caption",color:"warning.main",textAlign:"center",children:"Saldo insuficiente para realizar la(s) operacion(es)"})]}),s.jsx(Zs,{cards:c,setCurrentBalance:i,insufficient:B,isBinCard:!1,onSuccess:u})]});return s.jsx(_s,{open:e,handleClose:D,titleElement:R,children:e&&s.jsxs(s.Fragment,{children:[s.jsx($.div,{initial:{opacity:1},animate:{opacity:t?0:1},transition:{duration:.5},style:{display:t?"none":"flex",flex:1,overflow:"hidden",flexDirection:"column"},children:A}),s.jsx($.div,{initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:.5},style:{display:t?"flex":"none",flexDirection:"column",flex:1,overflow:"hidden"},children:s.jsx(ms,{data:I,onBack:E,setTransactionLoading:w,transactionLoading:y,onClose:D})})]})})};fs.propTypes={card:f.shape({balance:f.any,id:f.any,paymentProcessor:f.any}),cardList:f.array,open:f.any,setOpen:f.func};function Cs({isRefetchingCards:e,commerceCards:o,card:r}){const{isCollapse:c}=Ds(),n=Z(h=>h.setOpenFundingOrder),i=Z(h=>h.setFundingCard),[x,t]=p.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(g,{px:2,py:1,gap:1,flexDirection:{lg:c?"row":"column",xl:"row"},justifyContent:"space-between",children:[s.jsx(Is,{color:"primary",variant:"text",startIcon:s.jsx(Ss,{}),size:"small",onClick:()=>{n(!0),i(r)},children:"Orden Fondeo"}),s.jsx(xs,{size:"small",variant:"text",color:"primary",startIcon:s.jsx(Ts,{}),loading:e,onClick:()=>{t(!0)},children:"Fondear Tarjetas"})]}),s.jsx(fs,{setOpen:t,open:x,card:r,cardList:o})]})}Cs.propTypes={card:f.any,commerceCards:f.any,isRefetchingCards:f.any};const js=({card:e,cardSelected:o,isRefetchingCards:r,commerceCards:c,disableFilter:n=!1})=>{const[i,x]=p.useState(!1),[t,h]=p.useState(!1),I=Ls(e==null?void 0:e.paymentProcessor),C=I==null?void 0:I.component,y=(o==null?void 0:o.id)===(e==null?void 0:e.id),{setGlobalCard:w,setIsMaster:B,setFilterPaymentProcessor:D}=_(F=>F),{mutate:u,isLoading:E}=ks(),[R,A]=p.useState(null),T=p.useMemo(()=>c&&c[e==null?void 0:e.paymentProcessorId]||[],[c]),L=(T==null?void 0:T.length)||0,W=F=>is=>{n||(D(F==null?void 0:F.paymentProcessor),B(!1),w(F))},V=E&&R===(e==null?void 0:e.id)||r;return s.jsx(g,{children:s.jsxs(m,{sx:{minWidth:{xs:300,md:"auto"},border:y?3:0,borderColor:F=>y?F.palette.mode==="dark"?F.palette.secondary.main:F.palette.primary.main:"inherit"},children:[s.jsx(hs,{title:s.jsxs(g,{flexDirection:"row",gap:1,alignItems:"center",justifyContent:"space-between",children:[s.jsx(M,{variant:"caption",children:L===0?"":L+" Tarjetas"}),s.jsxs(g,{flexDirection:"row",alignItems:"center",sx:{flexWrap:"wrap"},gap:0,children:[I&&s.jsx(cs,{variant:"outlined",title:`Copiar Tarjeta - ${e==null?void 0:e.cardNumber}`,color:t?"success":"inherit",onClick:F=>{h(!0),ds(e==null?void 0:e.cardNumber),setTimeout(()=>{h(!1)},1e3)},size:"small",sx:{width:40,height:40},children:t?s.jsx(J,{sx:{color:"success"}}):s.jsx(C,{})}),s.jsx(cs,{variant:"outlined",title:`Copiar SPEI - ${e==null?void 0:e.SPEI}`,color:i?"success":"inherit",size:"small",onClick:F=>{x(!0),ds(e==null?void 0:e.SPEI),setTimeout(()=>{x(!1)},1e3)},sx:{width:40,height:40},children:i?s.jsx(J,{sx:{color:"success"}}):s.jsx(Rs,{})}),s.jsx(g,{ml:1,children:V?s.jsx(Fs,{size:15,containerProps:{display:"flex",ml:1}}):s.jsx(Ns,{disabled:V,size:"sm",color:e!=null&&e.cardON?"success":"error",checked:(e==null?void 0:e.cardON)||!1,inputProps:{"aria-label":"controlled"},onChange:()=>{A(e==null?void 0:e.id),u({...e,cardON:!(e!=null&&e.cardON)},{onSuccess:()=>{A(null)},onError:()=>{A(null)}})}})})]})]}),sx:{px:2,py:2}}),s.jsx(U,{component:n?"div":$.div,onClick:W(e),...n?{}:{whileTap:{scale:.8},style:{cursor:"pointer"}},children:s.jsxs(g,{alignItems:"center",pb:2,px:2,children:[s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(M,{variant:"h6",children:e==null?void 0:e.balanceFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]}),s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(gs,{sx:{width:20,height:20,color:"text.secondary"}}),s.jsxs(g,{alignItems:"center",children:[s.jsx(M,{variant:"subtitle2",children:"En transito"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"body2",children:e==null?void 0:e.inTransitFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]})]})]})]})}),s.jsx(Ps,{sx:{borderStyle:"dashed"}}),s.jsx(Cs,{isRefetchingCards:r,commerceCards:T,card:e})]})},e==null?void 0:e.cardId)};js.propTypes={card:f.shape({SPEI:f.any,balanceFormatted:f.any,cardId:f.any,id:f.any,inTransitFormatted:f.any,paymentProcessor:f.any,paymentProcessorId:f.any,cardNumber:f.any}),cardSelected:f.shape({id:f.any}),commerceCards:f.any,disableFilter:f.bool,isRefetchingCards:f.any};const vs={"MASTER CARD":"1",MASTERCARD:"1",CARNET:"2"},se=e=>{const o=ys(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);let r=0,c=0;const n=o==null?void 0:o.map(i=>{var x;return r+=parseFloat(i==null?void 0:i.balance),c+=parseFloat(i==null?void 0:i.inTransit),{...i,paymentProcessorId:vs[(x=i==null?void 0:i.paymentProcessor)==null?void 0:x.toUpperCase()]??null,id:i==null?void 0:i.cardId,SPEI:i==null?void 0:i.spei,balanceFormatted:b(i==null?void 0:i.balance),inTransitFormatted:b(i==null?void 0:i.inTransit),cardNumber:(i==null?void 0:i.cardNumber)||"",cardON:(i==null?void 0:i.block)!=="Blocked"}});return{master:{balance:r,inTransit:c,balanceFormatted:b(r),inTransitFormatted:b(c)},globals:n}},ee=e=>{const o=ys(e==null?void 0:e.ciphertext,e==null?void 0:e.iv);let r=0,c=0,n=0,i=0,x=0;return{movements:(o==null?void 0:o.map(t=>{var u,E,R;const h=parseFloat((t==null?void 0:t.amount)||"0");(t==null?void 0:t.type.toLowerCase())==="gasto"&&(r+=h),(t==null?void 0:t.type.toLowerCase())==="ingreso"&&(c+=h);const I=t!=null&&t.receiptFiles?(u=t==null?void 0:t.receiptFiles)==null?void 0:u.split(","):[],C=I==null?void 0:I.reduce((A,T)=>(T.endsWith(".xml")?A.xml=T:T.endsWith(".pdf")&&(A.pdf=T),A),{xml:null,pdf:null}),y=(C==null?void 0:C.xml)!==null&&(C==null?void 0:C.pdf)!==null,w=t!=null&&t.date?z(new Date(t==null?void 0:t.date),"dd MMM yyyy",{locale:Q}):"",B=t!=null&&t.date?z(new Date(t==null?void 0:t.date),"p"):"",D=((E=t==null?void 0:t.operationType)==null?void 0:E.toLowerCase())==="otros cargos";return D&&(t!=null&&t.checked)&&y&&(i+=h),D&&(t!=null&&t.checked)&&!y&&(n+=h),D&&!(t!=null&&t.checked)&&(x+=h),{id:t==null?void 0:t.transactionId,fullDate:zs(t==null?void 0:t.date),date:w,time:B,serverDate:t==null?void 0:t.date,description:t==null?void 0:t.description,amount:h,amountFormat:b(h),paymentProcessor:t==null?void 0:t.cardPaymentProcessor,type:t==null?void 0:t.type.toLowerCase(),operationType:(R=t==null?void 0:t.operationType)==null?void 0:R.toUpperCase(),concept:(t==null?void 0:t.concept)??"",cardId:t==null?void 0:t.cardId,commerceId:t==null?void 0:t.cardCommerceId,verified:!!(t!=null&&t.checked),isMainCard:!!(t!=null&&t.cardMain),expensesControl:{id:t==null?void 0:t.receiptId,isInvoice:y,invoiceFiles:C,otherFiles:y?[]:I},original:t}}))??[],income:b(c),expenses:b(r),balanceMovements:b(c-r),expensesWithInvoice:b(i),expensesWithoutInvoice:b(n),expensesWithoutChecked:b(x),totalExpensesOtherCharges:b(i+n+x)}},te=async()=>{const{data:e}=await ss.get("/api/main-cards/information");return se(e)},ne=async(e,o,r)=>{const c=new URL("/api/master-cards/movements",window.location.origin);c.searchParams.set("startDate",e),c.searchParams.set("endDate",o);const{data:n}=await ss.get(c.href);return ee(n)},ie=async e=>{const o={},r=e.map(c=>ss.get(`/api/enabled-cards/commerce?paymentProcessorId=${c}`).then(n=>Ws(n.data)).then(n=>{o[c]=n}));return await Promise.all(r),o},re=(e,o={})=>{const[r,c]=p.useState(null),n=v({queryKey:[ns.COMMERCE_CARDS],queryFn:({signal:i})=>ie(e),staleTime:6e4,...o});return p.useEffect(()=>{if(n!=null&&n.isError){const i=es(n.error,"No se puede obtener la lista de tarjetas del comercio. Intente nuevamente o reporte a sistemas");c(i),G.error(i,{type:ts(n.error)})}},[n.isError,n.error]),{...n,error:r||null}},ae=(e={})=>{const[o,r]=p.useState(null),c=Z(i=>i.setMainCard);return{...v([ns.GLOBAL_CARDS],te,{staleTime:6e4,refetchOnWindowFocus:!1,onError:i=>{const x=es(i,"No se puede obtener la informaciÃ³n de las tarjetas principales");r(x),c(null),G.error(x,{type:ts(i)})},onSuccess:i=>{c(i)},...e}),error:o||null}},oe=(e,o,r={})=>{if(!e||!o)return null;const c=z(ps(e),"yyyy-MM-dd"),n=z(us(o),"yyyy-MM-dd"),[i,x]=p.useState(null),{setMovements:t,setFilterDate:h}=_(C=>C);return{...v([ns.MOVEMENTS],({signal:C})=>ne(c,n),{staleTime:6e4,retry:!1,refetchOnWindowFocus:!1,onError:C=>{const y=es(C,"No se puede obtener la lista de movimientos. Intente nuevamente o reporte a sistemas");x(y),G.error(y,{type:ts(C)}),t(null)},onSuccess:C=>{h({startDate:ps(e),endDate:us(o),text:`${z(e,"dd MMMM yyyy",{locale:Q})} - ${z(o,"dd MMMM yyyy",{locale:Q})}`})},...r}),error:i||null}};function le(){var D;const{data:e,isLoading:o,isFetching:r}=ae(),c=_(u=>u.card),n=_(u=>u.resetGlobalCard),i=_(u=>u.setIsMaster),x=_(u=>u.setFilterPaymentProcessor),t=_(u=>u.isMaster),h=p.useMemo(()=>{var u;return((u=e==null?void 0:e.globals)==null?void 0:u.reduce((E,R)=>(E.push(R.paymentProcessorId),E),[]))||null},[e==null?void 0:e.globals]),{data:I,isRefetching:C}=re(h,{enabled:!!h}),y=e==null?void 0:e.master,w=e==null?void 0:e.globals,B=o||(w==null?void 0:w.length)>0;return s.jsx(g,{minWidth:B?300:"auto",mr:{md:B?3:0},mb:{xs:B?3:0,md:0},children:s.jsx(ws,{children:s.jsxs(g,{spacing:2,flex:1,children:[o&&s.jsx(Os,{sx:{zIndex:1}}),!o&&s.jsxs(s.Fragment,{children:[((D=e==null?void 0:e.globals)==null?void 0:D.length)>1&&s.jsx($.div,{onClick:()=>{i(!0),n(),x(null)},whileHover:{scale:1.03},whileTap:{scale:.8},children:s.jsxs(m,{sx:{p:0,cursor:"pointer",border:t?3:0,borderColor:u=>t?u.palette.mode==="dark"?u.palette.secondary.main:u.palette.primary.main:"inherit"},children:[s.jsx(hs,{title:s.jsx(g,{flexDirection:"row",gap:1,alignItems:"center",children:s.jsx(M,{variant:"subtitle2",children:"Global [Master]"})}),sx:{px:2,py:2}}),s.jsxs(g,{alignItems:"center",pb:2,px:2,children:[s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(M,{variant:"h3",children:y==null?void 0:y.balanceFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]}),s.jsxs(g,{direction:"row",alignItems:"center",spacing:1,children:[s.jsx(gs,{sx:{width:30,height:30,color:"text.secondary"}}),s.jsxs(g,{alignItems:"center",children:[s.jsx(M,{variant:"subtitle2",children:"En transito"}),s.jsxs(g,{direction:"row",spacing:1,alignItems:"center",children:[s.jsx(M,{variant:"body1",children:y==null?void 0:y.inTransitFormatted}),s.jsx(M,{variant:"caption",children:"MXN"})]})]})]})]})]})}),w==null?void 0:w.map(u=>{var E;return s.jsx(js,{card:u,cardSelected:c,isRefetchingCards:C||r,commerceCards:I,disableFilter:((E=e==null?void 0:e.globals)==null?void 0:E.length)<=1},u==null?void 0:u.id)})]})]})})})}const ce=X(p.lazy(()=>Y(()=>import("./VerifyExpensesDrawer-RfcTR_cR.js"),__vite__mapDeps([24,2,1,3,25])))),pe=X(p.lazy(()=>Y(()=>import("./BalanceDrawer-Y4qXAOZT.js"),__vite__mapDeps([26,1,25,2,3]))));function ue(){var rs;const e=new Date,o=_(d=>d.filterPaymentProcessor),{setMovements:r,getBalance:c}=_(d=>d),n=_(d=>d.filterDate),i=_(d=>d.movements),x=p.useMemo(()=>n!=null&&n.startDate?new Date(n==null?void 0:n.startDate):Es(e,{days:30}),[n==null?void 0:n.startDate]),t=p.useMemo(()=>n!=null&&n.endDate?new Date(n==null?void 0:n.endDate):e,[n==null?void 0:n.endDate]),h=p.useMemo(()=>c(),[i]),[I,C]=p.useState(x),[y,w]=p.useState(t),[B,D]=p.useState(!1),[u,E]=p.useState(!1),{data:R,isError:A,isLoading:T,isFetching:L,error:W,refetch:V}=oe(I,y);p.useEffect(()=>{I&&y&&V()},[I,y]),p.useEffect(()=>{var d;if(o){let S=0,j=0,l=0,O=0,P=0;const K=(d=R==null?void 0:R.movements)==null?void 0:d.filter(a=>{var N;return((N=a==null?void 0:a.paymentProcessor)==null?void 0:N.toLowerCase())===(o==null?void 0:o.toLowerCase())});K==null||K.forEach(a=>{var as,os,ls;(a==null?void 0:a.type.toLowerCase())==="gasto"?S+=a==null?void 0:a.amount:j+=a==null?void 0:a.amount;const N=((as=a==null?void 0:a.operationType)==null?void 0:as.toLowerCase())==="otros cargos";N&&(a!=null&&a.verified)&&((os=a==null?void 0:a.expensesControl)!=null&&os.isInvoice)&&(O+=a==null?void 0:a.amount),N&&(a!=null&&a.verified)&&!((ls=a==null?void 0:a.expensesControl)!=null&&ls.isInvoice)&&(l+=a==null?void 0:a.amount),N&&!(a!=null&&a.verified)&&(P+=a==null?void 0:a.amount)}),r({movements:K,income:b(j),expenses:b(S),balanceMovements:b(j-S),expensesWithInvoice:b(O),expensesWithoutInvoice:b(l),expensesWithoutChecked:b(P),totalExpensesOtherCharges:b(O+l+P)})}else r(R)},[o,R]);const F=d=>{const{startDate:S,endDate:j}=d;j!==null&&S!==null&&(w(j),C(S))},is=d=>()=>{var O;const S=((O=d==null?void 0:d.getSelectedRowModel().flatRows)==null?void 0:O.map(P=>P.original))??[],j=S==null?void 0:S.some(P=>P==null?void 0:P.verified),l=S==null?void 0:S.some(P=>(P==null?void 0:P.operationType)!=="OTROS CARGOS");return j?G.warn("Existen movimientos que ya se encuentran comprobados, verifique los movimientos seleccionados."):l?G.warn("Existen movimientos que no se pueden comprobar, verifique el tipo de movimiento."):D(!0)},bs=p.useMemo(()=>[{accessorKey:"description",header:"Movimiento",enableHiding:!1,size:200,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(Vs,{row:l})}},{accessorKey:"serverDate",header:"Fecha",size:120,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(g,{children:s.jsx(M,{variant:"subtitle2",children:l==null?void 0:l.fullDate})})}},{accessorKey:"operationType",header:"Tipo",filterVariant:"multi-select",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j,O=Us(l==null?void 0:l.operationType),P=O==null?void 0:O.component;return s.jsx(U,{children:O?s.jsx(P,{sx:{width:25,height:25}}):s.jsx(Ks,{size:22})})}},{accessorKey:"amount",header:"Monto",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j,O=(l==null?void 0:l.type)==="ingreso",P=(l==null?void 0:l.type)==="terminal";return s.jsx(M,{variant:"subtitle2",fontWeight:"bold",color:O||P?"success.main":"error",children:O||P?`+ ${l==null?void 0:l.amountFormat}`:`- ${l==null?void 0:l.amountFormat}`})}},{accessorKey:"verified",header:"ComprobaciÃ³n",size:100,Cell:({cell:d,column:S,row:j})=>{const{original:l}=j;return s.jsx(g,{flexDirection:"row",width:1,justifyContent:"center",alignItems:"center",gap:1,mr:2,color:"primary",children:l!=null&&l.verified?s.jsx(Hs,{color:"green",fontWeight:"bold",fontSize:"18px"}):s.jsx(Gs,{fontSize:"18px",color:"red"})})}}],[]),k=Ys(A,W,{columns:bs,data:i||[],enableColumnPinning:!0,enableColumnFilterModes:!0,enableStickyHeader:!0,enableRowVirtualization:!0,enableFacetedValues:!0,enableRowActions:!0,enableRowSelection:!0,enableDensityToggle:!1,positionActionsColumn:"last",selectAllMode:"all",initialState:{density:"compact",sorting:[{id:"serverDate",desc:!0}]},state:{isLoading:T,showAlertBanner:A,showProgressBars:L},displayColumnDefOptions:{"mrt-row-select":{maxSize:10},"mrt-row-actions":{header:"Acciones",maxSize:80}},muiTableContainerProps:{sx:{maxHeight:{md:"350px",lg:"450px",xl:"700px"}}},renderTopToolbarCustomActions:({table:d})=>s.jsx(U,{sx:{display:"flex",gap:"1rem"},children:s.jsx(xs,{loading:L,onClick:is(d),disabled:Ms(),startIcon:s.jsx(J,{width:24,height:24}),variant:"outlined",children:"Comprobar"})}),renderRowActionMenuItems:({row:d})=>[s.jsx(q,{onClick:()=>console.info("conciliation"),children:"ConciliaciÃ³n"},"conciliation"),s.jsx(q,{onClick:()=>console.info("incidence"),children:"Incidencia"},"incidence"),s.jsx(q,{onClick:()=>console.info("communication"),children:"ComunicaciÃ³n"},"communication"),s.jsx(q,{onClick:()=>console.info("tag"),children:"Tag"},"tag")]}),H=((rs=k==null?void 0:k.getSelectedRowModel().flatRows)==null?void 0:rs.map(d=>d.original))??[],Ms=p.useCallback(()=>{var j;const d=H.length>0?(j=H[0])==null?void 0:j.paymentProcessor:null;return!!!(H.every(l=>l.paymentProcessor===d)&&(k!=null&&k.getIsSomeRowsSelected()))},[H,k]);return s.jsxs(s.Fragment,{children:[s.jsxs(m,{children:[s.jsx($s,{startDate:I,endDate:y,onChangeDateRange:F,onOpenBalance:()=>E(!0),loading:L}),s.jsx(Xs,{table:k})]}),s.jsx(ce,{open:B,setOpen:D,movements:H??[]}),s.jsx(pe,{open:u,card:h,dateRange:n==null?void 0:n.text,onClose:()=>{E(!1)}})]})}function qe(){return s.jsx(Bs,{title:"Dashboard Master",children:s.jsxs(Js,{children:[s.jsx(Qs,{name:"Dashboard Master",links:[{name:"Inicio",href:As.root},{name:"Dashboard Master"}]}),s.jsx(U,{pb:4,children:s.jsxs(g,{flexDirection:{md:"row"},children:[s.jsx(le,{}),s.jsx(g,{flex:1,children:s.jsx(ue,{})})]})}),s.jsx(qs,{})]})})}export{qe as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/TransactionForm-CFGdpmYc.js","assets/js/vendor-5lkxkETF.js","assets/js/index-DkbAsBWZ.js","assets/css/build-Bl0dWaDY.css","assets/js/formik.esm-CTTSENmf.js","assets/js/index.esm-gIIytEq8.js","assets/js/useToggleStatusCard-DsdEWGTJ.js","assets/js/cardsAdapter-CnGv3jFq.js","assets/js/formatNumber-dGNhWwxT.js","assets/js/formatTime-jCgU2sMR.js","assets/js/matchTypes-mENztEWg.js","assets/js/cardMovementsAdapter-DwJrnLuP.js","assets/js/masterGlobalsStore-DSuSoFY2.js","assets/js/TextMaxLine-B63DtfW-.js","assets/js/UploadSingleFile-ByYCreVQ.js","assets/js/fade-CViozI82.js","assets/js/transition-anLY3gj9.js","assets/js/RFSelect-DSsw7uR8.js","assets/js/ResumeTransactionForm-0JEbCqgi.js","assets/js/cardTypes-DiZXL2sx.js","assets/js/AmexLogo-BNm7u8Au.js","assets/js/CarnetLogo-CFGRKXQt.js","assets/js/MasterCardLogo-C26mw1FM.js","assets/js/VisaLogo-BXtVVQaT.js","assets/js/VerifyExpensesDrawer-RfcTR_cR.js","assets/js/RightPanel-DRwW1nHJ.js","assets/js/BalanceDrawer-Y4qXAOZT.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=DashboardMaster-ChI-bzoV.js.map
